{"version":3,"sources":["jsbn.js","rsa.js","input-security-services.js","common-services.js","datatable-service.js","notification-service.js","push-broadcast-service.js","audio-visual-service.js","messenger-service.js","misc.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7qDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../security/common-app.src.js","sourcesContent":["/*\nUpdated by Vinod on 11 MAY 2017\nPLEASE NOTE: THIS FILE CONSIST OF THE FOLLOWING FILES\n\njsbn.js - old one\nprng4.js\nrng.js\n*/\n/*\n------------------------------------------------------------------------------------------------------------------------\njsbn.js - old one\n------------------------------------------------------------------------------------------------------------------------\n*/\n\n// Copyright (c) 2005  Tom Wu\n// All Rights Reserved.\n// See \"LICENSE\" for details.\n// Basic JavaScript BN library - subset useful for RSA encryption.\n\n// Bits per digit\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = ((canary & 0xffffff) == 0xefcafe);\n\n// (public) Constructor\n\nfunction BigInteger(a, b, c) {\n    if (a != null) if (\"number\" == typeof a) this.fromNumber(a, b, c);\n    else if (b == null && \"string\" != typeof a) this.fromString(a, 256);\n    else this.fromString(a, b);\n}\n\n// return new, unset BigInteger\n\nfunction nbi() {\n    return new BigInteger(null);\n}\n\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\n\nfunction am1(i, x, w, j, c, n) {\n    while (--n >= 0) {\n        var v = x * this[i++] + w[j] + c;\n        c = Math.floor(v / 0x4000000);\n        w[j++] = v & 0x3ffffff;\n    }\n    return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\n\nfunction am2(i, x, w, j, c, n) {\n    var xl = x & 0x7fff,\n        xh = x >> 15;\n    while (--n >= 0) {\n        var l = this[i] & 0x7fff;\n        var h = this[i++] >> 15;\n        var m = xh * l + h * xl;\n        l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n        c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n        w[j++] = l & 0x3fffffff;\n    }\n    return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\n\nfunction am3(i, x, w, j, c, n) {\n    var xl = x & 0x3fff,\n        xh = x >> 14;\n    while (--n >= 0) {\n        var l = this[i] & 0x3fff;\n        var h = this[i++] >> 14;\n        var m = xh * l + h * xl;\n        l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n        c = (l >> 28) + (m >> 14) + xh * h;\n        w[j++] = l & 0xfffffff;\n    }\n    return c;\n}\nif (j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\n    BigInteger.prototype.am = am2;\n    dbits = 30;\n}\nelse if (j_lm && (navigator.appName != \"Netscape\")) {\n    BigInteger.prototype.am = am1;\n    dbits = 26;\n}\nelse { // Mozilla/Netscape seems to prefer am3\n    BigInteger.prototype.am = am3;\n    dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = ((1 << dbits) - 1);\nBigInteger.prototype.DV = (1 << dbits);\n\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP;\n\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nvar BI_RC = new Array();\nvar rr, vv;\nrr = \"0\".charCodeAt(0);\nfor (vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\nrr = \"a\".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\nrr = \"A\".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n\nfunction int2char(n) {\n    return BI_RM.charAt(n);\n}\n\nfunction intAt(s, i) {\n    var c = BI_RC[s.charCodeAt(i)];\n    return (c == null) ? -1 : c;\n}\n\n// (protected) copy this to r\n\nfunction bnpCopyTo(r) {\n    for (var i = this.t - 1; i >= 0; --i) r[i] = this[i];\n    r.t = this.t;\n    r.s = this.s;\n}\n\n// (protected) set from integer value x, -DV <= x < DV\n\nfunction bnpFromInt(x) {\n    this.t = 1;\n    this.s = (x < 0) ? -1 : 0;\n    if (x > 0) this[0] = x;\n    else if (x < -1) this[0] = x + DV;\n    else this.t = 0;\n}\n\n// return bigint initialized to value\n\nfunction nbv(i) {\n    var r = nbi();\n    r.fromInt(i);\n    return r;\n}\n\n// (protected) set from string and radix\n\nfunction bnpFromString(s, b) {\n    var k;\n    if (b == 16) k = 4;\n    else if (b == 8) k = 3;\n    else if (b == 256) k = 8; // byte array\n    else if (b == 2) k = 1;\n    else if (b == 32) k = 5;\n    else if (b == 4) k = 2;\n    else {\n        this.fromRadix(s, b);\n        return;\n    }\n    this.t = 0;\n    this.s = 0;\n    var i = s.length,\n        mi = false,\n        sh = 0;\n    while (--i >= 0) {\n        var x = (k == 8) ? s[i] & 0xff : intAt(s, i);\n        if (x < 0) {\n            if (s.charAt(i) == \"-\") mi = true;\n            continue;\n        }\n        mi = false;\n        if (sh == 0) this[this.t++] = x;\n        else if (sh + k > this.DB) {\n            this[this.t - 1] |= (x & ((1 << (this.DB - sh)) - 1)) << sh;\n            this[this.t++] = (x >> (this.DB - sh));\n        }\n        else this[this.t - 1] |= x << sh;\n        sh += k;\n        if (sh >= this.DB) sh -= this.DB;\n    }\n    if (k == 8 && (s[0] & 0x80) != 0) {\n        this.s = -1;\n        if (sh > 0) this[this.t - 1] |= ((1 << (this.DB - sh)) - 1) << sh;\n    }\n    this.clamp();\n    if (mi) BigInteger.ZERO.subTo(this, this);\n}\n\n// (protected) clamp off excess high words\n\nfunction bnpClamp() {\n    var c = this.s & this.DM;\n    while (this.t > 0 && this[this.t - 1] == c)--this.t;\n}\n\n// (public) return string representation in given radix\n\nfunction bnToString(b) {\n    if (this.s < 0) return \"-\" + this.negate().toString(b);\n    var k;\n    if (b == 16) k = 4;\n    else if (b == 8) k = 3;\n    else if (b == 2) k = 1;\n    else if (b == 32) k = 5;\n    else if (b == 64) k = 6;\n    else if (b == 4) k = 2;\n    else return this.toRadix(b);\n    var km = (1 << k) - 1,\n        d, m = false,\n        r = \"\",\n        i = this.t;\n    var p = this.DB - (i * this.DB) % k;\n    if (i-- > 0) {\n        if (p < this.DB && (d = this[i] >> p) > 0) {\n            m = true;\n            r = int2char(d);\n        }\n        while (i >= 0) {\n            if (p < k) {\n                d = (this[i] & ((1 << p) - 1)) << (k - p);\n                d |= this[--i] >> (p += this.DB - k);\n            }\n            else {\n                d = (this[i] >> (p -= k)) & km;\n                if (p <= 0) {\n                    p += this.DB;\n                    --i;\n                }\n            }\n            if (d > 0) m = true;\n            if (m) r += int2char(d);\n        }\n    }\n    return m ? r : \"0\";\n}\n\n// (public) -this\n\nfunction bnNegate() {\n    var r = nbi();\n    BigInteger.ZERO.subTo(this, r);\n    return r;\n}\n\n// (public) |this|\n\nfunction bnAbs() {\n    return (this.s < 0) ? this.negate() : this;\n}\n\n// (public) return + if this > a, - if this < a, 0 if equal\n\nfunction bnCompareTo(a) {\n    var r = this.s - a.s;\n    if (r != 0) return r;\n    var i = this.t;\n    r = i - a.t;\n    if (r != 0) return r;\n    while (--i >= 0) if ((r = this[i] - a[i]) != 0) return r;\n    return 0;\n}\n\n// returns bit length of the integer x\n\nfunction nbits(x) {\n    var r = 1,\n        t;\n    if ((t = x >>> 16) != 0) {\n        x = t;\n        r += 16;\n    }\n    if ((t = x >> 8) != 0) {\n        x = t;\n        r += 8;\n    }\n    if ((t = x >> 4) != 0) {\n        x = t;\n        r += 4;\n    }\n    if ((t = x >> 2) != 0) {\n        x = t;\n        r += 2;\n    }\n    if ((t = x >> 1) != 0) {\n        x = t;\n        r += 1;\n    }\n    return r;\n}\n\n// (public) return the number of bits in \"this\"\n\nfunction bnBitLength() {\n    if (this.t <= 0) return 0;\n    return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ (this.s & this.DM));\n}\n\n// (protected) r = this << n*DB\n\nfunction bnpDLShiftTo(n, r) {\n    var i;\n    for (i = this.t - 1; i >= 0; --i) r[i + n] = this[i];\n    for (i = n - 1; i >= 0; --i) r[i] = 0;\n    r.t = this.t + n;\n    r.s = this.s;\n}\n\n// (protected) r = this >> n*DB\n\nfunction bnpDRShiftTo(n, r) {\n    for (var i = n; i < this.t; ++i) r[i - n] = this[i];\n    r.t = Math.max(this.t - n, 0);\n    r.s = this.s;\n}\n\n// (protected) r = this << n\n\nfunction bnpLShiftTo(n, r) {\n    var bs = n % this.DB;\n    var cbs = this.DB - bs;\n    var bm = (1 << cbs) - 1;\n    var ds = Math.floor(n / this.DB),\n        c = (this.s << bs) & this.DM,\n        i;\n    for (i = this.t - 1; i >= 0; --i) {\n        r[i + ds + 1] = (this[i] >> cbs) | c;\n        c = (this[i] & bm) << bs;\n    }\n    for (i = ds - 1; i >= 0; --i) r[i] = 0;\n    r[ds] = c;\n    r.t = this.t + ds + 1;\n    r.s = this.s;\n    r.clamp();\n}\n\n// (protected) r = this >> n\n\nfunction bnpRShiftTo(n, r) {\n    r.s = this.s;\n    var ds = Math.floor(n / this.DB);\n    if (ds >= this.t) {\n        r.t = 0;\n        return;\n    }\n    var bs = n % this.DB;\n    var cbs = this.DB - bs;\n    var bm = (1 << bs) - 1;\n    r[0] = this[ds] >> bs;\n    for (var i = ds + 1; i < this.t; ++i) {\n        r[i - ds - 1] |= (this[i] & bm) << cbs;\n        r[i - ds] = this[i] >> bs;\n    }\n    if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n    r.t = this.t - ds;\n    r.clamp();\n}\n\n// (protected) r = this - a\n\nfunction bnpSubTo(a, r) {\n    var i = 0,\n        c = 0,\n        m = Math.min(a.t, this.t);\n    while (i < m) {\n        c += this[i] - a[i];\n        r[i++] = c & this.DM;\n        c >>= this.DB;\n    }\n    if (a.t < this.t) {\n        c -= a.s;\n        while (i < this.t) {\n            c += this[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c += this.s;\n    }\n    else {\n        c += this.s;\n        while (i < a.t) {\n            c -= a[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c -= a.s;\n    }\n    r.s = (c < 0) ? -1 : 0;\n    if (c < -1) r[i++] = this.DV + c;\n    else if (c > 0) r[i++] = c;\n    r.t = i;\n    r.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\n\nfunction bnpMultiplyTo(a, r) {\n    var x = this.abs(),\n        y = a.abs();\n    var i = x.t;\n    r.t = i + y.t;\n    while (--i >= 0) r[i] = 0;\n    for (i = 0; i < y.t; ++i) r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n    r.s = 0;\n    r.clamp();\n    if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\n\nfunction bnpSquareTo(r) {\n    var x = this.abs();\n    var i = r.t = 2 * x.t;\n    while (--i >= 0) r[i] = 0;\n    for (i = 0; i < x.t - 1; ++i) {\n        var c = x.am(i, x[i], r, 2 * i, 0, 1);\n        if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n            r[i + x.t] -= x.DV;\n            r[i + x.t + 1] = 1;\n        }\n    }\n    if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n    r.s = 0;\n    r.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\n\nfunction bnpDivRemTo(m, q, r) {\n    var pm = m.abs();\n    if (pm.t <= 0) return;\n    var pt = this.abs();\n    if (pt.t < pm.t) {\n        if (q != null) q.fromInt(0);\n        if (r != null) this.copyTo(r);\n        return;\n    }\n    if (r == null) r = nbi();\n    var y = nbi(),\n        ts = this.s,\n        ms = m.s;\n    var nsh = this.DB - nbits(pm[pm.t - 1]); // normalize modulus\n    if (nsh > 0) {\n        pm.lShiftTo(nsh, y);\n        pt.lShiftTo(nsh, r);\n    }\n    else {\n        pm.copyTo(y);\n        pt.copyTo(r);\n    }\n    var ys = y.t;\n    var y0 = y[ys - 1];\n    if (y0 == 0) return;\n    var yt = y0 * (1 << this.F1) + ((ys > 1) ? y[ys - 2] >> this.F2 : 0);\n    var d1 = this.FV / yt,\n        d2 = (1 << this.F1) / yt,\n        e = 1 << this.F2;\n    var i = r.t,\n        j = i - ys,\n        t = (q == null) ? nbi() : q;\n    y.dlShiftTo(j, t);\n    if (r.compareTo(t) >= 0) {\n        r[r.t++] = 1;\n        r.subTo(t, r);\n    }\n    BigInteger.ONE.dlShiftTo(ys, t);\n    t.subTo(y, y); // \"negative\" y so we can replace sub with am later\n    while (y.t < ys) y[y.t++] = 0;\n    while (--j >= 0) {\n        // Estimate quotient digit\n        var qd = (r[--i] == y0) ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n        if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) { // Try it out\n            y.dlShiftTo(j, t);\n            r.subTo(t, r);\n            while (r[i] < --qd) r.subTo(t, r);\n        }\n    }\n    if (q != null) {\n        r.drShiftTo(ys, q);\n        if (ts != ms) BigInteger.ZERO.subTo(q, q);\n    }\n    r.t = ys;\n    r.clamp();\n    if (nsh > 0) r.rShiftTo(nsh, r); // Denormalize remainder\n    if (ts < 0) BigInteger.ZERO.subTo(r, r);\n}\n\n// (public) this mod a\n\nfunction bnMod(a) {\n    var r = nbi();\n    this.abs().divRemTo(a, null, r);\n    if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n    return r;\n}\n\n// Modular reduction using \"classic\" algorithm\n\nfunction Classic(m) {\n    this.m = m;\n}\n\nfunction cConvert(x) {\n    if (x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\n    else return x;\n}\n\nfunction cRevert(x) {\n    return x;\n}\n\nfunction cReduce(x) {\n    x.divRemTo(this.m, null, x);\n}\n\nfunction cMulTo(x, y, r) {\n    x.multiplyTo(y, r);\n    this.reduce(r);\n}\n\nfunction cSqrTo(x, r) {\n    x.squareTo(r);\n    this.reduce(r);\n}\n\nClassic.prototype.convert = cConvert;\nClassic.prototype.revert = cRevert;\nClassic.prototype.reduce = cReduce;\nClassic.prototype.mulTo = cMulTo;\nClassic.prototype.sqrTo = cSqrTo;\n\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\n\nfunction bnpInvDigit() {\n    if (this.t < 1) return 0;\n    var x = this[0];\n    if ((x & 1) == 0) return 0;\n    var y = x & 3; // y == 1/x mod 2^2\n    y = (y * (2 - (x & 0xf) * y)) & 0xf; // y == 1/x mod 2^4\n    y = (y * (2 - (x & 0xff) * y)) & 0xff; // y == 1/x mod 2^8\n    y = (y * (2 - (((x & 0xffff) * y) & 0xffff))) & 0xffff; // y == 1/x mod 2^16\n    // last step - calculate inverse mod DV directly;\n    // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n    y = (y * (2 - x * y % this.DV)) % this.DV; // y == 1/x mod 2^dbits\n    // we really want the negative inverse, and -DV < y < DV\n    return (y > 0) ? this.DV - y : -y;\n}\n\n// Montgomery reduction\n\nfunction Montgomery(m) {\n    this.m = m;\n    this.mp = m.invDigit();\n    this.mpl = this.mp & 0x7fff;\n    this.mph = this.mp >> 15;\n    this.um = (1 << (m.DB - 15)) - 1;\n    this.mt2 = 2 * m.t;\n}\n\n// xR mod m\n\nfunction montConvert(x) {\n    var r = nbi();\n    x.abs().dlShiftTo(this.m.t, r);\n    r.divRemTo(this.m, null, r);\n    if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n    return r;\n}\n\n// x/R mod m\n\nfunction montRevert(x) {\n    var r = nbi();\n    x.copyTo(r);\n    this.reduce(r);\n    return r;\n}\n\n// x = x/R mod m (HAC 14.32)\n\nfunction montReduce(x) {\n    while (x.t <= this.mt2) // pad x so am has enough room later\n    x[x.t++] = 0;\n    for (var i = 0; i < this.m.t; ++i) {\n        // faster way of calculating u0 = x[i]*mp mod DV\n        var j = x[i] & 0x7fff;\n        var u0 = (j * this.mpl + (((j * this.mph + (x[i] >> 15) * this.mpl) & this.um) << 15)) & x.DM;\n        // use am to combine the multiply-shift-add into one call\n        j = i + this.m.t;\n        x[j] += this.m.am(0, u0, x, i, 0, this.m.t);\n        // propagate carry\n        while (x[j] >= x.DV) {\n            x[j] -= x.DV;\n            x[++j]++;\n        }\n    }\n    x.clamp();\n    x.drShiftTo(this.m.t, x);\n    if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n}\n\n// r = \"x^2/R mod m\"; x != r\n\nfunction montSqrTo(x, r) {\n    x.squareTo(r);\n    this.reduce(r);\n}\n\n// r = \"xy/R mod m\"; x,y != r\n\nfunction montMulTo(x, y, r) {\n    x.multiplyTo(y, r);\n    this.reduce(r);\n}\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (protected) true iff this is even\n\nfunction bnpIsEven() {\n    return ((this.t > 0) ? (this[0] & 1) : this.s) == 0;\n}\n\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\n\nfunction bnpExp(e, z) {\n    if (e > 0xffffffff || e < 1) return BigInteger.ONE;\n    var r = nbi(),\n        r2 = nbi(),\n        g = z.convert(this),\n        i = nbits(e) - 1;\n    g.copyTo(r);\n    while (--i >= 0) {\n        z.sqrTo(r, r2);\n        if ((e & (1 << i)) > 0) z.mulTo(r2, g, r);\n        else {\n            var t = r;\n            r = r2;\n            r2 = t;\n        }\n    }\n    return z.revert(r);\n}\n\n// (public) this^e % m, 0 <= e < 2^32\n\nfunction bnModPowInt(e, m) {\n    var z;\n    if (e < 256 || m.isEven()) z = new Classic(m);\n    else z = new Montgomery(m);\n    return this.exp(e, z);\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.isEven = bnpIsEven;\nBigInteger.prototype.exp = bnpExp;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.modPowInt = bnModPowInt;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);\n\n\nfunction bnClone() {\n    var r = nbi();\n    this.copyTo(r);\n    return r;\n}\n\n// (public) return value as integer\n\nfunction bnIntValue() {\n    if (this.s < 0) {\n        if (this.t == 1) return this[0] - this.DV;\n        else if (this.t == 0) return -1;\n    }\n    else if (this.t == 1) return this[0];\n    else if (this.t == 0) return 0;\n    // assumes 16 < DB < 32\n    return ((this[1] & ((1 << (32 - this.DB)) - 1)) << this.DB) | this[0];\n}\n\n// (public) return value as byte\n\nfunction bnByteValue() {\n    return (this.t == 0) ? this.s : (this[0] << 24) >> 24;\n}\n\n// (public) return value as short (assumes DB>=16)\n\nfunction bnShortValue() {\n    return (this.t == 0) ? this.s : (this[0] << 16) >> 16;\n}\n\n// (protected) return x s.t. r^x < DV\n\nfunction bnpChunkSize(r) {\n    return Math.floor(Math.LN2 * this.DB / Math.log(r));\n}\n\n// (public) 0 if this == 0, 1 if this > 0\n\nfunction bnSigNum() {\n    if (this.s < 0) return -1;\n    else if (this.t <= 0 || (this.t == 1 && this[0] <= 0)) return 0;\n    else return 1;\n}\n\n// (protected) convert to radix string\n\nfunction bnpToRadix(b) {\n    if (b == null) b = 10;\n    if (this.signum() == 0 || b < 2 || b > 36) return \"0\";\n    var cs = this.chunkSize(b);\n    var a = Math.pow(b, cs);\n    var d = nbv(a),\n        y = nbi(),\n        z = nbi(),\n        r = \"\";\n    this.divRemTo(d, y, z);\n    while (y.signum() > 0) {\n        r = (a + z.intValue()).toString(b).substr(1) + r;\n        y.divRemTo(d, y, z);\n    }\n    return z.intValue().toString(b) + r;\n}\n\n// (protected) convert from radix string\n\nfunction bnpFromRadix(s, b) {\n    this.fromInt(0);\n    if (b == null) b = 10;\n    var cs = this.chunkSize(b);\n    var d = Math.pow(b, cs),\n        mi = false,\n        j = 0,\n        w = 0;\n    for (var i = 0; i < s.length; ++i) {\n        var x = intAt(s, i);\n        if (x < 0) {\n            if (s.charAt(i) == \"-\" && this.signum() == 0) mi = true;\n            continue;\n        }\n        w = b * w + x;\n        if (++j >= cs) {\n            this.dMultiply(d);\n            this.dAddOffset(w, 0);\n            j = 0;\n            w = 0;\n        }\n    }\n    if (j > 0) {\n        this.dMultiply(Math.pow(b, j));\n        this.dAddOffset(w, 0);\n    }\n    if (mi) BigInteger.ZERO.subTo(this, this);\n}\n\n// (protected) alternate constructor\n\nfunction bnpFromNumber(a, b, c) {\n    if (\"number\" == typeof b) {\n        // new BigInteger(int,int,RNG)\n        if (a < 2) this.fromInt(1);\n        else {\n            this.fromNumber(a, c);\n            if (!this.testBit(a - 1)) // force MSB set\n            this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, this);\n            if (this.isEven()) this.dAddOffset(1, 0); // force odd\n            while (!this.isProbablePrime(b)) {\n                this.dAddOffset(2, 0);\n                if (this.bitLength() > a) this.subTo(BigInteger.ONE.shiftLeft(a - 1), this);\n            }\n        }\n    }\n    else {\n        // new BigInteger(int,RNG)\n        var x = new Array(),\n            t = a & 7;\n        x.length = (a >> 3) + 1;\n        b.nextBytes(x);\n        if (t > 0) x[0] &= ((1 << t) - 1);\n        else x[0] = 0;\n        this.fromString(x, 256);\n    }\n}\n\n// (public) convert to bigendian byte array\n\nfunction bnToByteArray() {\n    var i = this.t,\n        r = new Array();\n    r[0] = this.s;\n    var p = this.DB - (i * this.DB) % 8,\n        d, k = 0;\n    if (i-- > 0) {\n        if (p < this.DB && (d = this[i] >> p) != (this.s & this.DM) >> p) r[k++] = d | (this.s << (this.DB - p));\n        while (i >= 0) {\n            if (p < 8) {\n                d = (this[i] & ((1 << p) - 1)) << (8 - p);\n                d |= this[--i] >> (p += this.DB - 8);\n            }\n            else {\n                d = (this[i] >> (p -= 8)) & 0xff;\n                if (p <= 0) {\n                    p += this.DB;\n                    --i;\n                }\n            }\n            if ((d & 0x80) != 0) d |= -256;\n            if (k == 0 && (this.s & 0x80) != (d & 0x80))++k;\n            if (k > 0 || d != this.s) r[k++] = d;\n        }\n    }\n    return r;\n}\n\nfunction bnEquals(a) {\n    return (this.compareTo(a) == 0);\n}\n\nfunction bnMin(a) {\n    return (this.compareTo(a) < 0) ? this : a;\n}\n\nfunction bnMax(a) {\n    return (this.compareTo(a) > 0) ? this : a;\n}\n\n// (protected) r = this op a (bitwise)\n\nfunction bnpBitwiseTo(a, op, r) {\n    var i, f, m = Math.min(a.t, this.t);\n    for (i = 0; i < m; ++i) r[i] = op(this[i], a[i]);\n    if (a.t < this.t) {\n        f = a.s & this.DM;\n        for (i = m; i < this.t; ++i) r[i] = op(this[i], f);\n        r.t = this.t;\n    }\n    else {\n        f = this.s & this.DM;\n        for (i = m; i < a.t; ++i) r[i] = op(f, a[i]);\n        r.t = a.t;\n    }\n    r.s = op(this.s, a.s);\n    r.clamp();\n}\n\n// (public) this & a\n\nfunction op_and(x, y) {\n    return x & y;\n}\n\nfunction bnAnd(a) {\n    var r = nbi();\n    this.bitwiseTo(a, op_and, r);\n    return r;\n}\n\n// (public) this | a\n\nfunction op_or(x, y) {\n    return x | y;\n}\n\nfunction bnOr(a) {\n    var r = nbi();\n    this.bitwiseTo(a, op_or, r);\n    return r;\n}\n\n// (public) this ^ a\n\nfunction op_xor(x, y) {\n    return x ^ y;\n}\n\nfunction bnXor(a) {\n    var r = nbi();\n    this.bitwiseTo(a, op_xor, r);\n    return r;\n}\n\n// (public) this & ~a\n\nfunction op_andnot(x, y) {\n    return x & ~y;\n}\n\nfunction bnAndNot(a) {\n    var r = nbi();\n    this.bitwiseTo(a, op_andnot, r);\n    return r;\n}\n\n// (public) ~this\n\nfunction bnNot() {\n    var r = nbi();\n    for (var i = 0; i < this.t; ++i) r[i] = this.DM & ~this[i];\n    r.t = this.t;\n    r.s = ~this.s;\n    return r;\n}\n\n// (public) this << n\n\nfunction bnShiftLeft(n) {\n    var r = nbi();\n    if (n < 0) this.rShiftTo(-n, r);\n    else this.lShiftTo(n, r);\n    return r;\n}\n\n// (public) this >> n\n\nfunction bnShiftRight(n) {\n    var r = nbi();\n    if (n < 0) this.lShiftTo(-n, r);\n    else this.rShiftTo(n, r);\n    return r;\n}\n\n// return index of lowest 1-bit in x, x < 2^31\n\nfunction lbit(x) {\n    if (x == 0) return -1;\n    var r = 0;\n    if ((x & 0xffff) == 0) {\n        x >>= 16;\n        r += 16;\n    }\n    if ((x & 0xff) == 0) {\n        x >>= 8;\n        r += 8;\n    }\n    if ((x & 0xf) == 0) {\n        x >>= 4;\n        r += 4;\n    }\n    if ((x & 3) == 0) {\n        x >>= 2;\n        r += 2;\n    }\n    if ((x & 1) == 0)++r;\n    return r;\n}\n\n// (public) returns index of lowest 1-bit (or -1 if none)\n\nfunction bnGetLowestSetBit() {\n    for (var i = 0; i < this.t; ++i)\n    if (this[i] != 0) return i * this.DB + lbit(this[i]);\n    if (this.s < 0) return this.t * this.DB;\n    return -1;\n}\n\n// return number of 1 bits in x\n\nfunction cbit(x) {\n    var r = 0;\n    while (x != 0) {\n        x &= x - 1;\n        ++r;\n    }\n    return r;\n}\n\n// (public) return number of set bits\n\nfunction bnBitCount() {\n    var r = 0,\n        x = this.s & this.DM;\n    for (var i = 0; i < this.t; ++i) r += cbit(this[i] ^ x);\n    return r;\n}\n\n// (public) true iff nth bit is set\n\nfunction bnTestBit(n) {\n    var j = Math.floor(n / this.DB);\n    if (j >= this.t) return (this.s != 0);\n    return ((this[j] & (1 << (n % this.DB))) != 0);\n}\n\n// (protected) this op (1<<n)\n\nfunction bnpChangeBit(n, op) {\n    var r = BigInteger.ONE.shiftLeft(n);\n    this.bitwiseTo(r, op, r);\n    return r;\n}\n\n// (public) this | (1<<n)\n\nfunction bnSetBit(n) {\n    return this.changeBit(n, op_or);\n}\n\n// (public) this & ~(1<<n)\n\nfunction bnClearBit(n) {\n    return this.changeBit(n, op_andnot);\n}\n\n// (public) this ^ (1<<n)\n\nfunction bnFlipBit(n) {\n    return this.changeBit(n, op_xor);\n}\n\n// (protected) r = this + a\n\nfunction bnpAddTo(a, r) {\n    var i = 0,\n        c = 0,\n        m = Math.min(a.t, this.t);\n    while (i < m) {\n        c += this[i] + a[i];\n        r[i++] = c & this.DM;\n        c >>= this.DB;\n    }\n    if (a.t < this.t) {\n        c += a.s;\n        while (i < this.t) {\n            c += this[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c += this.s;\n    }\n    else {\n        c += this.s;\n        while (i < a.t) {\n            c += a[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c += a.s;\n    }\n    r.s = (c < 0) ? -1 : 0;\n    if (c > 0) r[i++] = c;\n    else if (c < -1) r[i++] = this.DV + c;\n    r.t = i;\n    r.clamp();\n}\n\n// (public) this + a\n\nfunction bnAdd(a) {\n    var r = nbi();\n    this.addTo(a, r);\n    return r;\n}\n\n// (public) this - a\n\nfunction bnSubtract(a) {\n    var r = nbi();\n    this.subTo(a, r);\n    return r;\n}\n\n// (public) this * a\n\nfunction bnMultiply(a) {\n    var r = nbi();\n    this.multiplyTo(a, r);\n    return r;\n}\n\n// (public) this^2\n\nfunction bnSquare() {\n    var r = nbi();\n    this.squareTo(r);\n    return r;\n}\n\n// (public) this / a\n\nfunction bnDivide(a) {\n    var r = nbi();\n    this.divRemTo(a, r, null);\n    return r;\n}\n\n// (public) this % a\n\nfunction bnRemainder(a) {\n    var r = nbi();\n    this.divRemTo(a, null, r);\n    return r;\n}\n\n// (public) [this/a,this%a]\n\nfunction bnDivideAndRemainder(a) {\n    var q = nbi(),\n        r = nbi();\n    this.divRemTo(a, q, r);\n    return new Array(q, r);\n}\n\n// (protected) this *= n, this >= 0, 1 < n < DV\n\nfunction bnpDMultiply(n) {\n    this[this.t] = this.am(0, n - 1, this, 0, 0, this.t);\n    ++this.t;\n    this.clamp();\n}\n\n// (protected) this += n << w words, this >= 0\n\nfunction bnpDAddOffset(n, w) {\n    if (n == 0) return;\n    while (this.t <= w) this[this.t++] = 0;\n    this[w] += n;\n    while (this[w] >= this.DV) {\n        this[w] -= this.DV;\n        if (++w >= this.t) this[this.t++] = 0;\n        ++this[w];\n    }\n}\n\n// A \"null\" reducer\n\nfunction NullExp() {}\n\nfunction nNop(x) {\n    return x;\n}\n\nfunction nMulTo(x, y, r) {\n    x.multiplyTo(y, r);\n}\n\nfunction nSqrTo(x, r) {\n    x.squareTo(r);\n}\n\nNullExp.prototype.convert = nNop;\nNullExp.prototype.revert = nNop;\nNullExp.prototype.mulTo = nMulTo;\nNullExp.prototype.sqrTo = nSqrTo;\n\n// (public) this^e\n\nfunction bnPow(e) {\n    return this.exp(e, new NullExp());\n}\n\n// (protected) r = lower n words of \"this * a\", a.t <= n\n// \"this\" should be the larger one if appropriate.\n\nfunction bnpMultiplyLowerTo(a, n, r) {\n    var i = Math.min(this.t + a.t, n);\n    r.s = 0; // assumes a,this >= 0\n    r.t = i;\n    while (i > 0) r[--i] = 0;\n    var j;\n    for (j = r.t - this.t; i < j; ++i) r[i + this.t] = this.am(0, a[i], r, i, 0, this.t);\n    for (j = Math.min(a.t, n); i < j; ++i) this.am(0, a[i], r, i, 0, n - i);\n    r.clamp();\n}\n\n// (protected) r = \"this * a\" without lower n words, n > 0\n// \"this\" should be the larger one if appropriate.\n\nfunction bnpMultiplyUpperTo(a, n, r) {\n    --n;\n    var i = r.t = this.t + a.t - n;\n    r.s = 0; // assumes a,this >= 0\n    while (--i >= 0) r[i] = 0;\n    for (i = Math.max(n - this.t, 0); i < a.t; ++i)\n    r[this.t + i - n] = this.am(n - i, a[i], r, 0, 0, this.t + i - n);\n    r.clamp();\n    r.drShiftTo(1, r);\n}\n\n// Barrett modular reduction\n\nfunction Barrett(m) {\n    // setup Barrett\n    this.r2 = nbi();\n    this.q3 = nbi();\n    BigInteger.ONE.dlShiftTo(2 * m.t, this.r2);\n    this.mu = this.r2.divide(m);\n    this.m = m;\n}\n\nfunction barrettConvert(x) {\n    if (x.s < 0 || x.t > 2 * this.m.t) return x.mod(this.m);\n    else if (x.compareTo(this.m) < 0) return x;\n    else {\n        var r = nbi();\n        x.copyTo(r);\n        this.reduce(r);\n        return r;\n    }\n}\n\nfunction barrettRevert(x) {\n    return x;\n}\n\n// x = x mod m (HAC 14.42)\n\nfunction barrettReduce(x) {\n    x.drShiftTo(this.m.t - 1, this.r2);\n    if (x.t > this.m.t + 1) {\n        x.t = this.m.t + 1;\n        x.clamp();\n    }\n    this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3);\n    this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2);\n    while (x.compareTo(this.r2) < 0) x.dAddOffset(1, this.m.t + 1);\n    x.subTo(this.r2, x);\n    while (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n}\n\n// r = x^2 mod m; x != r\n\nfunction barrettSqrTo(x, r) {\n    x.squareTo(r);\n    this.reduce(r);\n}\n\n// r = x*y mod m; x,y != r\n\nfunction barrettMulTo(x, y, r) {\n    x.multiplyTo(y, r);\n    this.reduce(r);\n}\n\nBarrett.prototype.convert = barrettConvert;\nBarrett.prototype.revert = barrettRevert;\nBarrett.prototype.reduce = barrettReduce;\nBarrett.prototype.mulTo = barrettMulTo;\nBarrett.prototype.sqrTo = barrettSqrTo;\n\n// (public) this^e % m (HAC 14.85)\n\nfunction bnModPow(e, m) {\n    var i = e.bitLength(),\n        k, r = nbv(1),\n        z;\n    if (i <= 0) return r;\n    else if (i < 18) k = 1;\n    else if (i < 48) k = 3;\n    else if (i < 144) k = 4;\n    else if (i < 768) k = 5;\n    else k = 6;\n    if (i < 8) z = new Classic(m);\n    else if (m.isEven()) z = new Barrett(m);\n    else z = new Montgomery(m);\n\n    // precomputation\n    var g = new Array(),\n        n = 3,\n        k1 = k - 1,\n        km = (1 << k) - 1;\n    g[1] = z.convert(this);\n    if (k > 1) {\n        var g2 = nbi();\n        z.sqrTo(g[1], g2);\n        while (n <= km) {\n            g[n] = nbi();\n            z.mulTo(g2, g[n - 2], g[n]);\n            n += 2;\n        }\n    }\n\n    var j = e.t - 1,\n        w, is1 = true,\n        r2 = nbi(),\n        t;\n    i = nbits(e[j]) - 1;\n    while (j >= 0) {\n        if (i >= k1) w = (e[j] >> (i - k1)) & km;\n        else {\n            w = (e[j] & ((1 << (i + 1)) - 1)) << (k1 - i);\n            if (j > 0) w |= e[j - 1] >> (this.DB + i - k1);\n        }\n\n        n = k;\n        while ((w & 1) == 0) {\n            w >>= 1;\n            --n;\n        }\n        if ((i -= n) < 0) {\n            i += this.DB;\n            --j;\n        }\n        if (is1) { // ret == 1, don't bother squaring or multiplying it\n            g[w].copyTo(r);\n            is1 = false;\n        }\n        else {\n            while (n > 1) {\n                z.sqrTo(r, r2);\n                z.sqrTo(r2, r);\n                n -= 2;\n            }\n            if (n > 0) z.sqrTo(r, r2);\n            else {\n                t = r;\n                r = r2;\n                r2 = t;\n            }\n            z.mulTo(r2, g[w], r);\n        }\n\n        while (j >= 0 && (e[j] & (1 << i)) == 0) {\n            z.sqrTo(r, r2);\n            t = r;\n            r = r2;\n            r2 = t;\n            if (--i < 0) {\n                i = this.DB - 1;\n                --j;\n            }\n        }\n    }\n    return z.revert(r);\n}\n\n// (public) gcd(this,a) (HAC 14.54)\n\nfunction bnGCD(a) {\n    var x = (this.s < 0) ? this.negate() : this.clone();\n    var y = (a.s < 0) ? a.negate() : a.clone();\n    if (x.compareTo(y) < 0) {\n        var t = x;\n        x = y;\n        y = t;\n    }\n    var i = x.getLowestSetBit(),\n        g = y.getLowestSetBit();\n    if (g < 0) return x;\n    if (i < g) g = i;\n    if (g > 0) {\n        x.rShiftTo(g, x);\n        y.rShiftTo(g, y);\n    }\n    while (x.signum() > 0) {\n        if ((i = x.getLowestSetBit()) > 0) x.rShiftTo(i, x);\n        if ((i = y.getLowestSetBit()) > 0) y.rShiftTo(i, y);\n        if (x.compareTo(y) >= 0) {\n            x.subTo(y, x);\n            x.rShiftTo(1, x);\n        }\n        else {\n            y.subTo(x, y);\n            y.rShiftTo(1, y);\n        }\n    }\n    if (g > 0) y.lShiftTo(g, y);\n    return y;\n}\n\n// (protected) this % n, n < 2^26\n\nfunction bnpModInt(n) {\n    if (n <= 0) return 0;\n    var d = this.DV % n,\n        r = (this.s < 0) ? n - 1 : 0;\n    if (this.t > 0) if (d == 0) r = this[0] % n;\n    else for (var i = this.t - 1; i >= 0; --i) r = (d * r + this[i]) % n;\n    return r;\n}\n\n// (public) 1/this % m (HAC 14.61)\n\nfunction bnModInverse(m) {\n    var ac = m.isEven();\n    if ((this.isEven() && ac) || m.signum() == 0) return BigInteger.ZERO;\n    var u = m.clone(),\n        v = this.clone();\n    var a = nbv(1),\n        b = nbv(0),\n        c = nbv(0),\n        d = nbv(1);\n    while (u.signum() != 0) {\n        while (u.isEven()) {\n            u.rShiftTo(1, u);\n            if (ac) {\n                if (!a.isEven() || !b.isEven()) {\n                    a.addTo(this, a);\n                    b.subTo(m, b);\n                }\n                a.rShiftTo(1, a);\n            }\n            else if (!b.isEven()) b.subTo(m, b);\n            b.rShiftTo(1, b);\n        }\n        while (v.isEven()) {\n            v.rShiftTo(1, v);\n            if (ac) {\n                if (!c.isEven() || !d.isEven()) {\n                    c.addTo(this, c);\n                    d.subTo(m, d);\n                }\n                c.rShiftTo(1, c);\n            }\n            else if (!d.isEven()) d.subTo(m, d);\n            d.rShiftTo(1, d);\n        }\n        if (u.compareTo(v) >= 0) {\n            u.subTo(v, u);\n            if (ac) a.subTo(c, a);\n            b.subTo(d, b);\n        }\n        else {\n            v.subTo(u, v);\n            if (ac) c.subTo(a, c);\n            d.subTo(b, d);\n        }\n    }\n    if (v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\n    if (d.compareTo(m) >= 0) return d.subtract(m);\n    if (d.signum() < 0) d.addTo(m, d);\n    else return d;\n    if (d.signum() < 0) return d.add(m);\n    else return d;\n}\n\nvar lowprimes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997];\nvar lplim = (1 << 26) / lowprimes[lowprimes.length - 1];\n\n// (public) test primality with certainty >= 1-.5^t\n\nfunction bnIsProbablePrime(t) {\n    var i, x = this.abs();\n    if (x.t == 1 && x[0] <= lowprimes[lowprimes.length - 1]) {\n        for (i = 0; i < lowprimes.length; ++i)\n        if (x[0] == lowprimes[i]) return true;\n        return false;\n    }\n    if (x.isEven()) return false;\n    i = 1;\n    while (i < lowprimes.length) {\n        var m = lowprimes[i],\n            j = i + 1;\n        while (j < lowprimes.length && m < lplim) m *= lowprimes[j++];\n        m = x.modInt(m);\n        while (i < j) if (m % lowprimes[i++] == 0) return false;\n    }\n    return x.millerRabin(t);\n}\n\n// (protected) true if probably prime (HAC 4.24, Miller-Rabin)\n\nfunction bnpMillerRabin(t) {\n    var n1 = this.subtract(BigInteger.ONE);\n    var k = n1.getLowestSetBit();\n    if (k <= 0) return false;\n    var r = n1.shiftRight(k);\n    t = (t + 1) >> 1;\n    if (t > lowprimes.length) t = lowprimes.length;\n    var a = nbi();\n    for (var i = 0; i < t; ++i) {\n        //Pick bases at random, instead of starting at 2\n        a.fromInt(lowprimes[Math.floor(Math.random() * lowprimes.length)]);\n        var y = a.modPow(r, this);\n        if (y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\n            var j = 1;\n            while (j++ < k && y.compareTo(n1) != 0) {\n                y = y.modPowInt(2, this);\n                if (y.compareTo(BigInteger.ONE) == 0) return false;\n            }\n            if (y.compareTo(n1) != 0) return false;\n        }\n    }\n    return true;\n}\n\n// protected\nBigInteger.prototype.chunkSize = bnpChunkSize;\nBigInteger.prototype.toRadix = bnpToRadix;\nBigInteger.prototype.fromRadix = bnpFromRadix;\nBigInteger.prototype.fromNumber = bnpFromNumber;\nBigInteger.prototype.bitwiseTo = bnpBitwiseTo;\nBigInteger.prototype.changeBit = bnpChangeBit;\nBigInteger.prototype.addTo = bnpAddTo;\nBigInteger.prototype.dMultiply = bnpDMultiply;\nBigInteger.prototype.dAddOffset = bnpDAddOffset;\nBigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\nBigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\nBigInteger.prototype.modInt = bnpModInt;\nBigInteger.prototype.millerRabin = bnpMillerRabin;\n\n// public\nBigInteger.prototype.clone = bnClone;\nBigInteger.prototype.intValue = bnIntValue;\nBigInteger.prototype.byteValue = bnByteValue;\nBigInteger.prototype.shortValue = bnShortValue;\nBigInteger.prototype.signum = bnSigNum;\nBigInteger.prototype.toByteArray = bnToByteArray;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.min = bnMin;\nBigInteger.prototype.max = bnMax;\nBigInteger.prototype.and = bnAnd;\nBigInteger.prototype.or = bnOr;\nBigInteger.prototype.xor = bnXor;\nBigInteger.prototype.andNot = bnAndNot;\nBigInteger.prototype.not = bnNot;\nBigInteger.prototype.shiftLeft = bnShiftLeft;\nBigInteger.prototype.shiftRight = bnShiftRight;\nBigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\nBigInteger.prototype.bitCount = bnBitCount;\nBigInteger.prototype.testBit = bnTestBit;\nBigInteger.prototype.setBit = bnSetBit;\nBigInteger.prototype.clearBit = bnClearBit;\nBigInteger.prototype.flipBit = bnFlipBit;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.remainder = bnRemainder;\nBigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\nBigInteger.prototype.modPow = bnModPow;\nBigInteger.prototype.modInverse = bnModInverse;\nBigInteger.prototype.pow = bnPow;\nBigInteger.prototype.gcd = bnGCD;\nBigInteger.prototype.isProbablePrime = bnIsProbablePrime;\n\n// JSBN-specific extension\nBigInteger.prototype.square = bnSquare;\n\n/*\n------------------------------------------------------------------------------------------------------------------------\nprng4.js\n------------------------------------------------------------------------------------------------------------------------\n*/\n// prng4.js - uses Arcfour as a PRNG\n\nfunction Arcfour() {\n  this.i = 0;\n  this.j = 0;\n  this.S = new Array();\n}\n\n// Initialize arcfour context from key, an array of ints, each from [0..255]\nfunction ARC4init(key) {\n  var i, j, t;\n  for(i = 0; i < 256; ++i)\n    this.S[i] = i;\n  j = 0;\n  for(i = 0; i < 256; ++i) {\n    j = (j + this.S[i] + key[i % key.length]) & 255;\n    t = this.S[i];\n    this.S[i] = this.S[j];\n    this.S[j] = t;\n  }\n  this.i = 0;\n  this.j = 0;\n}\n\nfunction ARC4next() {\n  var t;\n  this.i = (this.i + 1) & 255;\n  this.j = (this.j + this.S[this.i]) & 255;\n  t = this.S[this.i];\n  this.S[this.i] = this.S[this.j];\n  this.S[this.j] = t;\n  return this.S[(t + this.S[this.i]) & 255];\n}\n\nArcfour.prototype.init = ARC4init;\nArcfour.prototype.next = ARC4next;\n\n// Plug in your RNG constructor here\nfunction prng_newstate() {\n  return new Arcfour();\n}\n\n// Pool size must be a multiple of 4 and greater than 32.\n// An array of bytes the size of the pool will be passed to init()\nvar rng_psize = 256;\n\n/*\n------------------------------------------------------------------------------------------------------------------------\nrng.js\n------------------------------------------------------------------------------------------------------------------------\n*/\n// Random number generator - requires a PRNG backend, e.g. prng4.js\n\n// For best results, put code like\n// <body onClick='rng_seed_time();' onKeyPress='rng_seed_time();'>\n// in your main HTML document.\n\nvar rng_state;\nvar rng_pool;\nvar rng_pptr;\n\n// Mix in a 32-bit integer into the pool\nfunction rng_seed_int(x) {\n  rng_pool[rng_pptr++] ^= x & 255;\n  rng_pool[rng_pptr++] ^= (x >> 8) & 255;\n  rng_pool[rng_pptr++] ^= (x >> 16) & 255;\n  rng_pool[rng_pptr++] ^= (x >> 24) & 255;\n  if(rng_pptr >= rng_psize) rng_pptr -= rng_psize;\n}\n\n// Mix in the current time (w/milliseconds) into the pool\nfunction rng_seed_time() {\n  rng_seed_int(new Date().getTime());\n}\n\n// Initialize the pool with junk if needed.\nif(rng_pool == null) {\n  rng_pool = new Array();\n  rng_pptr = 0;\n  var t;\n  if(window.crypto && window.crypto.getRandomValues) {\n    // Use webcrypto if available\n    var ua = new Uint8Array(32);\n    window.crypto.getRandomValues(ua);\n    for(t = 0; t < 32; ++t)\n      rng_pool[rng_pptr++] = ua[t];\n  }\n  if(navigator.appName == \"Netscape\" && navigator.appVersion < \"5\" && window.crypto) {\n    // Extract entropy (256 bits) from NS4 RNG if available\n    var z = window.crypto.random(32);\n    for(t = 0; t < z.length; ++t)\n      rng_pool[rng_pptr++] = z.charCodeAt(t) & 255;\n  }  \n  while(rng_pptr < rng_psize) {  // extract some randomness from Math.random()\n    t = Math.floor(65536 * Math.random());\n    rng_pool[rng_pptr++] = t >>> 8;\n    rng_pool[rng_pptr++] = t & 255;\n  }\n  rng_pptr = 0;\n  rng_seed_time();\n  //rng_seed_int(window.screenX);\n  //rng_seed_int(window.screenY);\n}\n\nfunction rng_get_byte() {\n  if(rng_state == null) {\n    rng_seed_time();\n    rng_state = prng_newstate();\n    rng_state.init(rng_pool);\n    for(rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\n      rng_pool[rng_pptr] = 0;\n    rng_pptr = 0;\n    //rng_pool = null;\n  }\n  // TODO: allow reseeding after first request\n  return rng_state.next();\n}\n\nfunction rng_get_bytes(ba) {\n  var i;\n  for(i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\n}\n\nfunction SecureRandom() {}\n\nSecureRandom.prototype.nextBytes = rng_get_bytes;\n","/* \r\nModifications are done by vinod 01 MAY 2018\r\nhttps://stackoverflow.com/questions/13472782/openssl-decryption-in-javascript?lq=1\r\nhttps://pastebin.com/GfhuDwj5\r\n*/\r\n\r\nvar RSAPublicKey = function ($modulus, $encryptionExponent) {\r\n    this.modulus = new BigInteger(Hex.encode($modulus), 16);\r\n    this.encryptionExponent = new BigInteger(Hex.encode($encryptionExponent), 16);\r\n}\r\n\r\nvar UTF8 = {\r\n    encode: function ($input) {\r\n        $input = $input.replace(/\\r\\n/g, \"\\n\");\r\n        var $output = \"\";\r\n        for (var $n = 0; $n < $input.length; $n++) {\r\n            var $c = $input.charCodeAt($n);\r\n            if ($c < 128) {\r\n                $output += String.fromCharCode($c);\r\n            } else if (($c > 127) && ($c < 2048)) {\r\n                $output += String.fromCharCode(($c >> 6) | 192);\r\n                $output += String.fromCharCode(($c & 63) | 128);\r\n            } else {\r\n                $output += String.fromCharCode(($c >> 12) | 224);\r\n                $output += String.fromCharCode((($c >> 6) & 63) | 128);\r\n                $output += String.fromCharCode(($c & 63) | 128);\r\n            }\r\n        }\r\n        return $output;\r\n    },\r\n    decode: function ($input) {\r\n        var $output = \"\";\r\n        var $i = 0;\r\n        var $c = $c1 = $c2 = 0;\r\n        while ($i < $input.length) {\r\n            $c = $input.charCodeAt($i);\r\n            if ($c < 128) {\r\n                $output += String.fromCharCode($c);\r\n                $i++;\r\n            } else if (($c > 191) && ($c < 224)) {\r\n                $c2 = $input.charCodeAt($i + 1);\r\n                $output += String.fromCharCode((($c & 31) << 6) | ($c2 & 63));\r\n                $i += 2;\r\n            } else {\r\n                $c2 = $input.charCodeAt($i + 1);\r\n                $c3 = $input.charCodeAt($i + 2);\r\n                $output += String.fromCharCode((($c & 15) << 12) | (($c2 & 63) << 6) | ($c3 & 63));\r\n                $i += 3;\r\n            }\r\n        }\r\n        return $output;\r\n    }\r\n};\r\n\r\nvar Base64 = {\r\n    base64: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\r\n    encode: function ($input) {\r\n        if (!$input) {\r\n            return false;\r\n        }\r\n        //$input = UTF8.encode($input);\r\n        var $output = \"\";\r\n        var $chr1, $chr2, $chr3;\r\n        var $enc1, $enc2, $enc3, $enc4;\r\n        var $i = 0;\r\n        do {\r\n            $chr1 = $input.charCodeAt($i++);\r\n            $chr2 = $input.charCodeAt($i++);\r\n            $chr3 = $input.charCodeAt($i++);\r\n            $enc1 = $chr1 >> 2;\r\n            $enc2 = (($chr1 & 3) << 4) | ($chr2 >> 4);\r\n            $enc3 = (($chr2 & 15) << 2) | ($chr3 >> 6);\r\n            $enc4 = $chr3 & 63;\r\n            if (isNaN($chr2)) $enc3 = $enc4 = 64;\r\n            else if (isNaN($chr3)) $enc4 = 64;\r\n            $output += this.base64.charAt($enc1) + this.base64.charAt($enc2) + this.base64.charAt($enc3) + this.base64.charAt($enc4);\r\n        } while ($i < $input.length);\r\n        return $output;\r\n    },\r\n    decode: function ($input) {\r\n        if (!$input) return false;\r\n        $input = $input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n        var $output = \"\";\r\n        var $enc1, $enc2, $enc3, $enc4;\r\n        var $i = 0;\r\n        do {\r\n            $enc1 = this.base64.indexOf($input.charAt($i++));\r\n            $enc2 = this.base64.indexOf($input.charAt($i++));\r\n            $enc3 = this.base64.indexOf($input.charAt($i++));\r\n            $enc4 = this.base64.indexOf($input.charAt($i++));\r\n            $output += String.fromCharCode(($enc1 << 2) | ($enc2 >> 4));\r\n            if ($enc3 != 64) $output += String.fromCharCode((($enc2 & 15) << 4) | ($enc3 >> 2));\r\n            if ($enc4 != 64) $output += String.fromCharCode((($enc3 & 3) << 6) | $enc4);\r\n        } while ($i < $input.length);\r\n        return $output; //UTF8.decode($output);\r\n    }\r\n};\r\n\r\nvar Hex = {\r\n    hex: \"0123456789abcdef\",\r\n    encode: function ($input) {\r\n        if (!$input) return false;\r\n        var $output = \"\";\r\n        var $k;\r\n        var $i = 0;\r\n        do {\r\n            $k = $input.charCodeAt($i++);\r\n            $output += this.hex.charAt(($k >> 4) & 0xf) + this.hex.charAt($k & 0xf);\r\n        } while ($i < $input.length);\r\n        return $output;\r\n    },\r\n    decode: function ($input) {\r\n        if (!$input) return false;\r\n        $input = $input.replace(/[^0-9abcdef]/g, \"\");\r\n        var $output = \"\";\r\n        var $i = 0;\r\n        do {\r\n            $output += String.fromCharCode(((this.hex.indexOf($input.charAt($i++)) << 4) & 0xf0) | (this.hex.indexOf($input.charAt($i++)) & 0xf));\r\n        } while ($i < $input.length);\r\n        return $output;\r\n    }\r\n};\r\n\r\nvar ASN1Data = function ($data) {\r\n    this.error = false;\r\n    this.parse = function ($data) {\r\n        if (!$data) {\r\n            this.error = true;\r\n            return null;\r\n        }\r\n        var $result = [];\r\n        while ($data.length > 0) {\r\n            // get the tag\r\n            var $tag = $data.charCodeAt(0);\r\n            $data = $data.substr(1);\r\n            // get length\r\n            var $length = 0;\r\n            // ignore any null tag\r\n            if (($tag & 31) == 0x5) $data = $data.substr(1);\r\n            else {\r\n                if ($data.charCodeAt(0) & 128) {\r\n                    var $lengthSize = $data.charCodeAt(0) & 127;\r\n                    $data = $data.substr(1);\r\n                    if ($lengthSize > 0) $length = $data.charCodeAt(0);\r\n                    if ($lengthSize > 1) $length = (($length << 8) | $data.charCodeAt(1));\r\n                    if ($lengthSize > 2) {\r\n                        this.error = true;\r\n                        return null;\r\n                    }\r\n                    $data = $data.substr($lengthSize);\r\n                } else {\r\n                    $length = $data.charCodeAt(0);\r\n                    $data = $data.substr(1);\r\n                }\r\n            }\r\n            // get value\r\n            var $value = \"\";\r\n            if ($length) {\r\n                if ($length > $data.length) {\r\n                    this.error = true;\r\n                    return null;\r\n                }\r\n                $value = $data.substr(0, $length);\r\n                $data = $data.substr($length);\r\n            }\r\n            if ($tag & 32)\r\n                $result.push(this.parse($value)); // sequence\r\n            else\r\n                $result.push(this.value(($tag & 128) ? 4 : ($tag & 31), $value));\r\n        }\r\n        return $result;\r\n    };\r\n    this.value = function ($tag, $data) {\r\n        if ($tag == 1)\r\n            return $data ? true : false;\r\n        else if ($tag == 2) //integer\r\n            return $data;\r\n        else if ($tag == 3) //bit string\r\n            return this.parse($data.substr(1));\r\n        else if ($tag == 5) //null\r\n            return null;\r\n        else if ($tag == 6) { //ID\r\n            var $res = [];\r\n            var $d0 = $data.charCodeAt(0);\r\n            $res.push(Math.floor($d0 / 40));\r\n            $res.push($d0 - $res[0] * 40);\r\n            var $stack = [];\r\n            var $powNum = 0;\r\n            var $i;\r\n            for ($i = 1; $i < $data.length; $i++) {\r\n                var $token = $data.charCodeAt($i);\r\n                $stack.push($token & 127);\r\n                if ($token & 128)\r\n                    $powNum++;\r\n                else {\r\n                    var $j;\r\n                    var $sum = 0;\r\n                    for ($j = 0; $j < $stack.length; $j++)\r\n                        $sum += $stack[$j] * Math.pow(128, $powNum--);\r\n                    $res.push($sum);\r\n                    $powNum = 0;\r\n                    $stack = [];\r\n                }\r\n            }\r\n            return $res.join(\".\");\r\n        }\r\n        return null;\r\n    }\r\n    this.data = this.parse($data);\r\n};\r\n\r\n/* var RSA = {\r\n    getPublicKey: function($pem) {\r\n        if($pem.length<50) return false;\r\n        if($pem.substr(0,26)!=\"-----BEGIN PUBLIC KEY-----\") return false;\r\n        $pem = $pem.substr(26);\r\n        if($pem.substr($pem.length-24)!=\"-----END PUBLIC KEY-----\") return false;\r\n        $pem = $pem.substr(0,$pem.length-24);\r\n        $pem = new ASN1Data(Base64.decode($pem));\r\n        if($pem.error) return false;\r\n        $pem = $pem.data;\r\n        if($pem[0][0][0]==\"1.2.840.113549.1.1.1\")\r\n            return new RSAPublicKey($pem[0][1][0][0], $pem[0][1][0][1]);\r\n        return false;\r\n    },\r\n    encrypt: function($data, $pubkey) {\r\n        if (!$pubkey) return false;\r\n        var bytes = ($pubkey.modulus.bitLength()+7)>>3;\r\n        $data = this.pkcs1pad2($data,bytes);\r\n        if(!$data) return false;\r\n        $data = $data.modPowInt($pubkey.encryptionExponent, $pubkey.modulus);\r\n        if(!$data) return false;\r\n        $data = $data.toString(16);\r\n        while ($data.length < bytes*2)\r\n            $data = '0' + $data;\r\n        return Base64.encode(Hex.decode($data));\r\n    },\r\n    pkcs1pad2: function(s, n) { // $data, $keysize\r\n \r\n        if(n < s.length + 11) { // TODO: fix for utf-8\r\n            console.error(\"Too long for RSA\");\r\n            return null;\r\n          }\r\n          \r\n          var ba = new Array();\r\n          var i = s.length - 1;\r\n          while(i >= 0 && n > 0) {\r\n            var c = s.charCodeAt(i--);\r\n            if(c < 128) { // encode using utf-8\r\n              ba[--n] = c;\r\n            }\r\n            else if((c > 127) && (c < 2048)) {\r\n              ba[--n] = (c & 63) | 128;\r\n              ba[--n] = (c >> 6) | 192;\r\n            }\r\n            else {\r\n              ba[--n] = (c & 63) | 128;\r\n              ba[--n] = ((c >> 6) & 63) | 128;\r\n              ba[--n] = (c >> 12) | 224;\r\n            }\r\n          }\r\n          ba[--n] = 0;\r\n          var rng = new SecureRandom();\r\n          var x = new Array();\r\n          while(n > 2) { // random non-zero pad\r\n            x[0] = 0;\r\n            while(x[0] == 0) rng.nextBytes(x);\r\n            ba[--n] = x[0];\r\n          }\r\n          ba[--n] = 2;\r\n          ba[--n] = 0;\r\n          return new BigInteger(ba);\r\n    }\r\n}\r\n */\r\n\r\nvar RSA = {\r\n    getPublicKey: function ($pem) {\r\n        if ($pem.length < 50)\r\n            return false;\r\n        if ($pem.substr(0, 26) != \"-----BEGIN PUBLIC KEY-----\")\r\n            return false;\r\n        $pem = $pem.substr(26);\r\n        if ($pem.substr($pem.length - 24) != \"-----END PUBLIC KEY-----\")\r\n            return false;\r\n        $pem = $pem.substr(0, $pem.length - 24);\r\n        $pem = new ASN1Data(Base64.decode($pem));\r\n        if ($pem.error)\r\n            return false;\r\n        $pem = $pem.data;\r\n        if ($pem[0][0][0] == \"1.2.840.113549.1.1.1\")\r\n            return new RSAPublicKey($pem[0][1][0][0], $pem[0][1][0][1]);\r\n        return false;\r\n    },\r\n    encrypt: function ($data, $pubkey) {\r\n        if (!$pubkey)\r\n            return false;\r\n        var bytes = ($pubkey.modulus.bitLength() + 7) >> 3;\r\n        $data = this.pkcs1pad2($data, bytes);\r\n        if (!$data)\r\n            return false;\r\n        $data = $data.modPowInt($pubkey.encryptionExponent, $pubkey.modulus);\r\n        if (!$data)\r\n            return false;\r\n        $data = $data.toString(16);\r\n        while ($data.length < bytes * 2)\r\n            $data = '0' + $data;\r\n        return Base64.encode(Hex.decode($data));\r\n    },\r\n    decrypt: function ($text, $pubkey) {\r\n        if (!$pubkey)\r\n            return false;\r\n        $text = Hex.encode(Base64.decode($text)).toString(16);\r\n        while ($text[0] == '0')\r\n            $text = $text.replace('0', '');\r\n        $text = new BigInteger($text, 16);\r\n        $text = $text.modPowInt($pubkey.encryptionExponent, $pubkey.modulus);\r\n        if (!$text)\r\n            return false;\r\n        var bytes = ($pubkey.modulus.bitLength() + 7) >> 3;\r\n        $text = this.pkcs1unpad2($text, bytes);\r\n\r\n        return $text;\r\n    },\r\n    pkcs1pad2: function pkcs1pad2(s, n) {\r\n        if (n < s.length + 11) { // TODO: fix for utf-8\r\n            // console.error(\"Too long for RSA\");\r\n            return null;\r\n        }\r\n        var ba = new Array();\r\n        var i = s.length - 1;\r\n        while (i >= 0 && n > 0) {\r\n            var c = s.charCodeAt(i--);\r\n            if (c < 128) { // encode using utf-8\r\n                ba[--n] = c;\r\n            }\r\n            else if ((c > 127) && (c < 2048)) {\r\n                ba[--n] = (c & 63) | 128;\r\n                ba[--n] = (c >> 6) | 192;\r\n            }\r\n            else {\r\n                ba[--n] = (c & 63) | 128;\r\n                ba[--n] = ((c >> 6) & 63) | 128;\r\n                ba[--n] = (c >> 12) | 224;\r\n            }\r\n        }\r\n        ba[--n] = 0;\r\n        var rng = new SecureRandom();\r\n        var x = new Array();\r\n        while (n > 2) { // random non-zero pad\r\n            x[0] = 0;\r\n            while (x[0] == 0)\r\n                rng.nextBytes(x);\r\n            ba[--n] = x[0];\r\n        }\r\n        ba[--n] = 2;\r\n        ba[--n] = 0;\r\n        return new BigInteger(ba);\r\n    },\r\n    pkcs1unpad2: function pkcs1unpad2(d, n) {\r\n        var b = d.toByteArray();\r\n        var i = 0;\r\n        while (i < b.length && b[i] == 0)\r\n            ++i;\r\n        /*if (b.length - i != n - 1 || b[i] != 2)\r\n         return null;*/\r\n        ++i;\r\n        while (b[i] != 0)\r\n            if (++i >= b.length)\r\n                return null;\r\n        var ret = \"\";\r\n        while (++i < b.length) {\r\n            var c = b[i] & 255;\r\n            if (c < 128) { // utf-8 decode\r\n                ret += String.fromCharCode(c);\r\n            }\r\n            else if ((c > 191) && (c < 224)) {\r\n                ret += String.fromCharCode(((c & 31) << 6) | (b[i + 1] & 63));\r\n                ++i;\r\n            }\r\n            else {\r\n                ret += String.fromCharCode(((c & 15) << 12) | ((b[i + 1] & 63) << 6) | (b[i + 2] & 63));\r\n                i += 2;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n}","'use strict';\n/**\n  * __InputSecurity : 28 NOV 2019\n  * LivelyWorks\n  *\n  *-------------------------------------------------------- */\n\n  var __InputSecurity = {\n    /**\n     * \n     * Decrypt string using RSA with Public Key\n     *     \n     * @return object\n     *-------------------------------------------------------- */\n    rsaDecrypt : function(encryptedString) {\n        return RSA.decrypt(encryptedString, __InputSecurity.getPublicRSA());\n    },\n\n    /**\n     * \n     * Encrypt string using RSA with Public Key\n     *     \n     * @return object\n     *-------------------------------------------------------- */\n    rsaEncrypt : function(plainString) {\n        return RSA.encrypt(plainString, __InputSecurity.getPublicRSA());\n    },\n\n    /**\n     * \n     * get security token\n     *     \n     * @return string\n     *-------------------------------------------------------- */\n    getPublicRSA : function() {\n        return RSA.getPublicKey(\"-----BEGIN PUBLIC KEY-----MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAPJwwNa//eaQYxkNsAODohg38azVtalEh7Lw4wxlBrbDONgYaebgscpjPRloeL0kj4aLI462lcQGVAxhyh8JijsCAwEAAQ==-----END PUBLIC KEY-----\");\n    },\n\n    /**\n     * Process encrypted data\n     *\n     * @return void\n     *-------------------------------------------------------- */\n\n      processSecuredData : function (responseData) {\n          if (!responseData || !responseData['__maskedData']) {\n              return false;\n          } else {\n              var splitedValues = (responseData['__maskedData']).split('__==__');\n              var splitedValueString = '';\n              for (var i = 0; i < splitedValues.length; i++) {\n                  if (splitedValues[i]) {\n                      splitedValueString += __InputSecurity.rsaDecrypt(splitedValues[i]);\n                  }\n              }\n              return JSON.parse(splitedValueString);\n          }\n\n      },\n\n      /**\n     * process response data whatever it is secured or not returns decrypted data\n     *\n     * @return void\n     *-------------------------------------------------------- */\n\n      processResponseData : function (responseData) {\n            var processedData = __InputSecurity.processSecuredData(responseData);\n          if (processedData == false) {\n              return responseData;\n          } else {\n              return processedData;\n          }\n      },\n\n      processFormFields : function(dataObj, options) {\n          if( dataObj && !_.isEmpty(dataObj) ) {\n\n            var newDataObj = {};\n                if(!options) {\n                    options = {};\n                }\n                options.secured = true;\n            if(options && options.secured == true) {\n                _.forEach(dataObj, function(value, key) {\n                        if((!options.unsecuredFields || \n                                (_.contains(options.unsecuredFields, key) === false))\n                                && (_.isArray(value) === true \n                                || _.isObject(value) === true)) {\n                            newDataObj[key] = __InputSecurity.processFormFields(value)\n                        } else if((!options.unsecuredFields || \n                                (_.contains(options.unsecuredFields, key) === false))\n                                && _.isArray(value) !== true \n                                && _.isObject(value) !== true) {\n\n                            if(value || value == false) {\n                                if(_.isBoolean(value) || _.isNumber(value)) {\n                                    value = String(value);\n                                }\n\n                                var securedValue = __InputSecurity.rsaEncrypt(value);\n                                // if cannot be encrypt may long a long string and needs to be concat.\n                                if(securedValue == false) {\n\n                                    var splitedValues = value.match(/.{1,30}/g),\n                                        splitedValueString = '';\n\n                                        for (var i = 0; i < splitedValues.length; i++) {\n\n                                            var securedSplitedValue = __InputSecurity.rsaEncrypt(splitedValues[i]);\n\n                                            if(securedSplitedValue == false) {\n\n                                                throw(\"Encryption Failed for { \"+ key +\" } VALUE due to length\");\n\n                                                splitedValueString = false;\n                                                break;\n\n                                            } else {\n\n                                                splitedValueString = splitedValueString + securedSplitedValue + '__==__';\n                                            }\n\n                                        }\n\n                                        securedValue = splitedValueString;\n                                }\n\n                                var securedKey = __InputSecurity.rsaEncrypt(key);\n                                if(securedKey == false) {\n                                    throw (\"Encryption Failed for { \"+ securedKey +\" } KEY due to length\");\n                                }                            \n\n                                newDataObj[securedKey] = securedValue;\n                            }\n                        } else {\n                            newDataObj[key] = value;\n                            \n                        }      \n                        // console.log(newDataObj);              \n                    } );\n                \n            } else {\n                newDataObj = dataObj;\n            }\n            // return newDataObj;\n        }\n\n        return newDataObj;\n      }\n  };","'use strict';\n\n_.templateSettings.variable = \"__tData\";\n\nvar __globals = {\n    translate_strings: {}\n};\n\n/**\n  * Common Functions : 08 JAN 2020\n  * LivelyWorks\n  *\n  *-------------------------------------------------------- */\nvar __Utils = {\n    log: function (text, textStyle) {\n\n        if (window.appConfig && window.appConfig.debug) {\n\n            var consoleTextStyle = '',\n                prependForStyle = '';\n\n            if (textStyle && _.isString(text)) {\n                consoleTextStyle = textStyle;\n                prependForStyle = '%c ';\n\n                console.log(prependForStyle + text, consoleTextStyle);\n            } else {\n                console.log(text);\n            }\n\n        }\n    },\n\n    syntaxHighlight: function (json) {\n        json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n        return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n            var cls = 'color: darkorange;'; /*number*/\n            if (/^\"/.test(match)) {\n                if (/:$/.test(match)) {\n                    cls = 'color: red;'; /*key*/\n                } else {\n                    cls = 'color: green;'; /*string*/\n                }\n            } else if (/true|false/.test(match)) {\n                cls = 'color: blue;'; /*boolean*/\n            } else if (/null/.test(match)) {\n                cls = 'color: magenta;'; /*null*/\n            }\n            return '<span style=\"' + cls + '\">' + match + '</span>';\n        });\n    },\n\n    displayInTabWindow: function (text) {\n\n        if (window.appConfig && window.appConfig.debug) {\n            if (text) {\n                var textToPrint = '';\n                if (_.isObject(text)) {\n\n                    if (_.has(text, 'data')) {\n                        textToPrint = '<pre style=\"font-size:14px; outline: 1px solid #ccc; padding: 10px; margin: 0px;\"><strong>URL: </strong>' + text.config.url + ' <strong><br>Method: </strong>' + text.config.method + ' <strong><br>statusText: </strong>' + text.statusText + ' (' + text.status + ') <strong style=\"color:red\"><br>Error Message: ' + text.data.message + '</strong></pre>';\n                    }\n                    textToPrint += '<pre style=\"outline: 1px solid #ccc; padding: 5px; margin: 0px;\">' + __Utils.syntaxHighlight(JSON.stringify(text, null, 4)) + '</pre>';\n                } else {\n                    textToPrint = text;\n                }\n\n\n                var dynamicTabWindow = window.open('', '_blank');\n                dynamicTabWindow.document.write(textToPrint);\n                dynamicTabWindow.document.close(); // necessary for IE >= 10\n                dynamicTabWindow.focus(); // necessary for IE >= 10\n            } else {\n                console.log(\"__Utils: Text not found for window.\")\n            }\n        }\n    },\n\n    openEmailDebugView: function (url) {\n\n        if (window.appConfig && window.appConfig.debug) {\n            window.open(url, \"__emailDebugView\");\n            __Utils.info(\"Request Sent to open Email Debug View.\");\n        }\n    },\n\n    error: function (text) {\n\n        if (window.appConfig && window.appConfig.debug) {\n            console.error(text);\n        }\n    },\n\n    info: function (text) {\n\n        if (window.appConfig && window.appConfig.debug) {\n            console.info(text);\n        }\n    },\n\n    warn: function (text) {\n\n        if (window.appConfig && window.appConfig.debug) {\n            console.warn(text);\n        }\n    },\n\n    throwError: function (text) {\n\n        if (window.appConfig && window.appConfig.debug) {\n            throw new Error(text);\n        }\n    },\n\n    jsdd: function (response) {\n\n        if (window.appConfig && window.appConfig.debug) {\n\n            if (response.__dd && response.__pr) {\n                if (!response.__prExecuted) {\n                    var prCount = 1;\n                    _.forEach(response.__pr, function (__prValue) {\n\n                        var debugBacktrace = '';\n\n                        console.log('%c Server __pr ' + prCount + \" --------------------------------------------------\", 'color:#f0ad4e');\n\n                        _.forEach(__prValue, function (value, key) {\n\n                            if (key !== 'debug_backtrace') {\n                                console.log(value);\n\n                            } else {\n\n                                debugBacktrace = value;\n                            }\n                        });\n\n                        console.log('%c Reference  --------------------------------------------------', 'color:#f0ad4e');\n                        console.log(debugBacktrace);\n\n                        prCount++;\n                    });\n                    response.__prExecuted = true;\n                    console.log(\"%c ------------------------------------------------------------ __pr end\", 'color: #f0ad4e');\n                }\n            }\n\n            if (response.__dd && response.__clog) {\n                if (!response.__clogExecuted) {\n                    __Utils.clog(response);\n\n                    response.__clogExecuted = true;\n                }\n            }\n\n            if (response.__dd && response.__dd === '__dd') {\n                if (!response.__ddExecuted) {\n                    console.log('%c Server __dd  --------------------------------------------------', 'color:#ff0000');\n                    var ddCount = 1;\n                    _.forEach(response.data, function (value, key) {\n\n                        if (key !== 'debug_backtrace') {\n                            //  console.log('%c __dd item '+ ddCount+\" --------------------------------------------------\", 'color:#ff0000');\n                            console.log(value);\n                            ddCount++;\n                        } else {\n                            console.log('%c Reference  --------------------------------------------------', 'color:#ff0000');\n                            console.log(value);\n                        }\n                    });\n                    response.__ddExecuted = true;\n                }\n\n                console.log(\"%c ------------------------------------------------------------ __dd end\", 'color: #ff0000');\n\n                throw '------------------------------------------------------------ __dd end.';\n            }\n        }\n    },\n    /**\n     * Console the items requested from __clog Laraware helper function\n     *\n     *-------------------------------------------------------- */\n    clog: function (clogData) {\n\n        if (!__globals) {\n            var __globals = {\n                __clogCount: 0\n            }\n        }\n\n        var clCount = 1,\n            clogType = clogData.__clogType ? clogData.__clogType : '';\n        _.forEach(clogData.__clog, function (__clogValue) {\n            _.forEach(__clogValue, function (value) {\n                console.log('%c __clog ' + clogType + ' ' + clCount + \" --------------------------------------------------\", 'color: #bada55');\n                console.log('%c ' + value, 'color: #9c9c9c');\n                clCount++;\n                __globals.__clogCount++;\n            });\n        });\n\n        console.log(\"%c ------------------------------------------------------------ __clog \" + clogType + \" items end.\" + ' TotalCount: ' + __globals.__clogCount, 'color: #bada55');\n    },\n    /**\n     * detect IE\n     * returns version of IE or false, if browser is not Internet Explorer\n     * \n     */\n    detectIE: function () {\n\n        var ua = window.navigator.userAgent;\n\n        // Test values; Uncomment to check result …\n\n        // IE 10\n        // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\n\n        // IE 11\n        // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\n\n        // Edge 12 (Spartan)\n        // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\n\n        // Edge 13\n        // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\n\n        var msie = ua.indexOf('MSIE ');\n        if (msie > 0) {\n            // IE 10 or older => return version number\n            return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n        }\n\n        var trident = ua.indexOf('Trident/');\n        if (trident > 0) {\n            // IE 11 => return version number\n            var rv = ua.indexOf('rv:');\n            return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n        }\n\n        var edge = ua.indexOf('Edge/');\n        if (edge > 0) {\n            // Edge (IE 12+) => return version number\n            return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n        }\n\n        // other browser\n        return false;\n    },\n\n    time: function (text) {\n        if (window.appConfig && window.appConfig.debug && (__Utils.detectIE() >= 11 || __Utils.detectIE() == false)) {\n            console.time(text);\n        }\n    },\n\n    timeEnd: function (text) {\n        if (window.appConfig && window.appConfig.debug && (__Utils.detectIE() >= 11 || __Utils.detectIE() == false)) {\n            console.timeEnd(text);\n        }\n    },\n    /**\n    * Templatining Modal\n    * @param templateId string template identifer\n    * @param responseCallback callback function should return values required for template\n    * return void\n    *-------------------------------------------------------- */\n    modalTemplatize: function (templateId, responseCallback, closeCallback) {\n        var $templateStructure = $(templateId),\n            _thisDeferred = jQuery.Deferred();;\n        var modalEvent = $templateStructure.data('modalEvent'),\n            modalCloseEvent = $templateStructure.data('modalCloseEvent'),\n            modalId = $templateStructure.data('modalId'),\n            compiledTemplate = _.template($templateStructure.html()),\n            replaceId = $templateStructure.data('replaceTarget');\n        var callbackResponse = {};\n        if (responseCallback) {\n            $(modalId).on((modalEvent ? modalEvent : 'show') + '.bs.modal', function (e) {\n                if (typeof responseCallback === 'function') {\n                    callbackResponse = responseCallback(e, $(e.relatedTarget).data());\n                    _thisDeferred.resolve(callbackResponse);\n                } else {\n                    __Utils.error('responseCallback should be function');\n                }\n                //append rather than replace!\n                $(replaceId ? replaceId : 'modal-body').html(compiledTemplate(callbackResponse));\n            });\n        } else {\n            _thisDeferred.resolve(callbackResponse);\n        }\n\n        if (closeCallback) {\n            $(modalId).on((modalCloseEvent ? modalCloseEvent : 'hidden') + '.bs.modal', function (hiddenEvent) {\n                if (typeof closeCallback === 'function') {\n                    closeCallback(hiddenEvent, callbackResponse);\n                } else {\n                    __Utils.error('closeCallback should be function');\n                }\n            });\n        }\n        return _thisDeferred.promise();\n    },\n    queryConvertToObject: function (queryStr) {\n        if (_.isString(queryStr)) {\n            var queryArr = (queryStr).replace('?', '&').split('&'),\n                queryParams = {};\n            for (var q = 0, qArrLength = queryArr.length; q < qArrLength; q++) {\n                var qArr = queryArr[q].split('=');\n                queryParams[decodeURIComponent(qArr[0])] = decodeURIComponent(qArr[1]);\n            }\n            return queryParams;\n        } else {\n            return queryStr;\n        }\n    },\n\n    viewReload: function () {\n        location.reload();\n    },\n\n    /**\n     * Underscore template compilation utility\n     *\n     * @param string {templateName} - html template identifier including (# for id or . for class)\n     * @param object {dataObj}\n     *     \n     * @return formatted html\n     *-------------------------------------------------------- */\n\n    template: function (templateName, dataObj) {\n        var $templateHtml = $(\"script\" + templateName).html();\n\n        if ($templateHtml) {\n\n            var _template = _.template($templateHtml);\n\n            return _template(dataObj);\n\n        } else {\n            return dataObj;\n        }\n    },\n\n    /**\n     * Get URL string based on Laravel Routes.\n     *\n     * @param  string/object route\n     * @param  params object  \n     *     \n     * @return string\n     *-------------------------------------------------------- */\n\n    apiURL: function (route, params) {\n\n        // Check if route is string\n        if (_.isString(route)) {\n            if (!_.isEmpty(params) && _.isObject(params)) {\n                _.forEach(params, function (value, key) {\n                    route = route.replace(key, value);\n                });\n            }\n        } else {\n            __Utils.error(\"__Utils:: Invalid API url\");\n        }\n\n        return route;\n    },\n\n    /**\n     * Get translate\n     *\n     * @param  string stringKey\n     *     \n     * @return string\n     *-------------------------------------------------------- */\n\n    getTranslation: function (stringKey, fallBackString) {\n        // Check if translation available\n        if (__globals.translate_strings[stringKey]) {\n            return __globals.translate_strings[stringKey]\n        } else {\n            return fallBackString ? fallBackString : stringKey;\n        }\n    },\n\n    /**\n     * Get translate\n     *\n     * @param  string stringKey\n     *     \n     * @return string\n     *-------------------------------------------------------- */\n    setTranslation: function (stringKey, stringTranslation) {\n        if (_.isObject(stringKey)) {\n            __globals.translate_strings = $.extend({}, __globals.translate_strings, stringKey);\n            return true;\n        } else if (_.isString(stringKey) && stringTranslation) {\n            __globals.translate_strings[stringKey] = stringTranslation;\n            return true;\n        }\n        return false;\n    }\n};\n\n__globals['clog'] = __Utils.clog;\n\nvar __DataRequest = {\n    __processSubmitForm: function ($this, $thisForm) {\n        $thisForm.validate({\n            // errorElement: \"span\",\n            errorClass: \"lw-validation-error\",\n            errorPlacement: function (error, element) {\n                if ($(element).siblings('.input-group-prepend').length || $(element).siblings('.input-group-append').length) {\n                    error.insertAfter($(element).parents('.input-group')).show();\n                } else {\n                    error.insertAfter(element).show();\n                }\n            }\n\n        });\n        if ($thisForm.valid()) {\n\n            if ($thisForm.data('show-processing')) {\n                $thisForm.addClass('lw-form-in-process').prepend('<div class=\"lw-spinner-box\"><div class=\"spinner-border\" role=\"status\"></div><small>' + __Utils.getTranslation('processing') + '</small></div>');\n            }\n\n            if ($this.data('action')) {\n                $thisForm.attr('action', $this.data('action'));\n            }\n\n            __DataRequest.process($thisForm).then(function () {\n                if ($thisForm.data('show-processing')) {\n                    $thisForm.removeClass('lw-form-in-process').find('.lw-spinner-box').remove();\n                }\n            });\n        } else {\n            return false;\n        }\n    },\n    process: function ($this) {\n        var isFormRequest = $this.is('form'),\n            requestMethod = $this.data('method') ? $this.data('method') : ((isFormRequest === true) ? 'post' : 'get'),\n            unsecuredFields = $this.data('unsecured-fields'),\n            isSecuredForm = $this.data('secured'),\n            requestURL = isFormRequest ? $this.attr('action') : ($this.data('action') ? $this.data('action') : $this.attr('href')),\n            processFormFieldsOptions = {};\n        if (unsecuredFields) {\n            processFormFieldsOptions.unsecuredFields = unsecuredFields.split(',');\n        }\n\n        if (isSecuredForm == true) {\n            var inputData = __InputSecurity.processFormFields(__Utils.queryConvertToObject(\n                (isFormRequest === true) ? $this.serialize() : $this.data('post-data')\n            ), processFormFieldsOptions);\n        } else {\n            var inputData = (isFormRequest === true) ? $this.serialize() : $this.data('post-data');\n        }\n\n        var responseCallback = eval($this.data('callback')),\n            optionsForRequest = {\n                thisScope: $this,\n            };\n\n        if (_.isUndefined(responseCallback)) {\n            responseCallback = null;\n        }\n\n        if ($this.data('pre-callback')) {\n            optionsForRequest['preCallback'] = eval($this.data('pre-callback'))\n        }\n\n        if ($this.data('showMessage')) {\n            optionsForRequest['showMessage'] = $this.data('showMessage')\n        }\n\n        return __DataRequest.__protectedAjaxProcess(requestURL, inputData, responseCallback, requestMethod, optionsForRequest);\n    },\n\n    post: function (requestURL, inputData, responseCallback, options) {\n        inputData = inputData ? inputData : {};\n        responseCallback = responseCallback ? responseCallback : null;\n        return __DataRequest.__protectedAjaxProcess(requestURL, inputData, responseCallback, 'post', options);\n    },\n\n    get: function (requestURL, inputData, responseCallback, options) {\n        inputData = inputData ? inputData : {};\n        responseCallback = responseCallback ? responseCallback : null;\n        return __DataRequest.__protectedAjaxProcess(requestURL, inputData, responseCallback, 'get', options);\n    },\n\n    __protectedAjaxProcess: function (requestURL, inputData, responseCallback, requestMethod, options) {\n        var _thisDeferred = jQuery.Deferred();\n\n\n        if (!options) {\n            options = {};\n        }\n\n        inputData = __Utils.queryConvertToObject(inputData);\n\n        options = $.extend({}, {\n            csrf: true,\n            thisScope: $(this),\n            preCallback: null,\n            showMessage: false\n        }, options);\n\n        var headers = {},\n            $thisScope = options.thisScope;\n\n        if ($thisScope.data('is-request-processing') == true) {\n            __Utils.throwError('request already in process');\n        }\n        $thisScope.data('is-request-processing', true);\n\n        if (options.csrf === true) {\n            headers['X-CSRF-TOKEN'] = appConfig.csrf_token\n        }\n\n        if (options.preCallback && _.isFunction(options.preCallback)) {\n            inputData = options.preCallback(inputData);\n        }\n\n        $.ajax({\n            type: requestMethod ? requestMethod : 'get',\n            // context: this,\n            url: requestURL,\n            dataType: \"JSON\",\n            data: inputData ? inputData : {},\n            headers: headers,\n            error: function (errorResponse) {\n                $thisScope.data('is-request-processing', false);\n                __Utils.timeEnd(\"DataRequest.\" + requestMethod + ' ' + requestURL + ' ');\n                _thisDeferred.resolve(errorResponse);\n                showErrorMessage(errorResponse.responseJSON && errorResponse.responseJSON.message ? errorResponse.responseJSON.message : 'Message not available');\n                if (errorResponse.status === 422) {\n                    $.each(errorResponse.responseJSON.errors, function (key, value) {\n                        // Convert dots(.) to square brackets\n                        // key = key.replace(/\\.(.+?)(?=\\.|$)/g, (m, s) => `[${s}]`);\n                        // key = key.replace(/\\.(.+?)(?=\\.|$)/g, function (m, s) { return (\"[\" + s + \"]\"); });\n\n                        if ($thisScope.find('#' + key + '-error').length) {\n                            $thisScope.find('#' + key + '-error').text(value).show();\n                        } else {\n                            if ($thisScope.find('.input-group-prepend ~ [name=\"' + key + '\"]').length || $thisScope.find('[name=\"' + key + '\"] ~ .input-group-append').length) {\n                                $('<label id=\"' + key + '-error\" class=\"lw-validation-error\" for=\"' + key + '\">' + value + '</label>').insertAfter($thisScope.find('[name=\"' + key + '\"]').parents('.input-group')).show();\n                            } else {\n                                $('<label id=\"' + key + '-error\" class=\"lw-validation-error\" for=\"' + key + '\">' + value + '</label>').insertAfter($thisScope.find('[name=\"' + key + '\"]')[0]).show();\n                            }\n                        }\n                    });\n                } else {\n                    __Utils.displayInTabWindow(errorResponse.responseJSON);\n                }\n            },\n            beforeSend: function () {\n                // Handle the beforeSend event\n                __Utils.time(\"DataRequest.\" + requestMethod + ' ' + requestURL + ' ');\n            },\n            success: function (successResponse) {\n\n                if (requestMethod == 'post') {\n                    if (successResponse.data && (successResponse.data.show_message || options.showMessage)) {\n                        if (successResponse.reaction == 1) {\n                            showSuccessMessage(successResponse.data.message ? successResponse.data.message : 'Message not available');\n                        } else if (successResponse.reaction == 14) {\n                            showWarnMessage(successResponse.data.message ? successResponse.data.message : 'Message not available');\n                        } else {\n                            showErrorMessage(successResponse.data.message ? successResponse.data.message : 'Message not available');\n                        }\n                    }\n                } else if (successResponse.message && (successResponse.show_message || options.showMessage)) {\n                    if (successResponse.reaction_code == 1) {\n                        showSuccessMessage(successResponse.message);\n                    } else if (successResponse.reaction_code == 14) {\n                        showWarnMessage(successResponse.message);\n                    } else {\n                        showErrorMessage(successResponse.message);\n                    }\n                }\n\n                //check if rediect reaction and redirect when url is present\n                if (successResponse.reaction == 21) {\n                    if (_.has(successResponse.data, 'redirectUrl')) {\n                        window.location = successResponse.data.redirectUrl;\n                    }\n                }\n\n                successResponse = __InputSecurity.processResponseData(successResponse);\n                // var responseCallback = eval($this.data('callback'));\n                if (responseCallback && typeof responseCallback === 'function') {\n                    responseCallback(successResponse);\n                }\n\n                if (successResponse.response_action) {\n                    if (successResponse.response_action.type === 'redirect') {\n                        window.location = successResponse.response_action.url;\n                    } else if (successResponse.response_action.type === 'replace') {\n                        $(successResponse.response_action.target).html(\n                            successResponse.response_action.content\n                        );\n                    }\n                }\n            },\n            complete: function (requestResponse) {\n                $thisScope.data('is-request-processing', false);\n                _thisDeferred.resolve(requestResponse);\n                var responseData = requestResponse.responseJSON;\n                __Utils.timeEnd(\"DataRequest.\" + requestMethod + ' ' + requestURL + ' ');\n                // open email debug view if available\n                if (responseData && responseData.__emailDebugView) {\n                    __Utils.openEmailDebugView(responseData.__emailDebugView);\n                }\n\n                // check if __dd is performed\n                if (responseData && responseData.__dd) {\n                    __Utils.jsdd(responseData);\n                }\n            }\n        });\n\n        return _thisDeferred.promise();\n    },\n    updateModels: function (scopeName, dataObject) {\n\n        if (scopeName && _.isObject(scopeName)) {\n            dataObject = scopeName;\n            scopeName = '';\n        } else if (!scopeName || !_.isString(scopeName)) {\n            scopeName = '';\n        } else {\n            scopeName = scopeName + '.';\n        }\n\n        if (dataObject && !_.isObject(dataObject)) {\n            __Utils.error('dataObject should be present as object');\n        }\n\n        for (var key in dataObject) {\n            if (dataObject && dataObject.hasOwnProperty(key)) {\n                var element = dataObject[key],\n                    $elements = $.find('[data-model=\"' + scopeName + key + '\"]');\n                if ($elements.length) {\n                    $.each($elements, function (index, elementItem) {\n                        var $elementItem = $(elementItem);\n                        if ($elementItem.is('input:radio') || $elementItem.is('input:checkbox')) {\n                            if (element && ($elementItem.val() == element)) {\n                                $elementItem.prop('checked', true);\n                            } else {\n                                $elementItem.prop('checked', false);\n                            }\n                        } else if ($elementItem.is('input') || $elementItem.is('select')) {\n                            $elementItem.val(element);\n                        } else {\n                            $elementItem.text(element);\n                        }\n                        $elementItem = null;\n                    });\n                }\n                var $htmlElements = $.find('[data-model-html=\"' + scopeName + key + '\"]');\n                if ($htmlElements.length) {\n                    $.each($htmlElements, function (index, elementItem) {\n                        var $htmlElementItem = $(elementItem);\n                        $htmlElementItem.html(element);\n                        $htmlElementItem = null;\n                    });\n                }\n                // show element if\n                var $ifShowHtmlElements = $.find('[data-show-if=\"' + scopeName + key + '\"]');\n                if ($ifShowHtmlElements.length) {\n                    $.each($ifShowHtmlElements, function (index, elementItem) {\n                        var $ifShowHtmlElementItem = $(elementItem);\n                        if (eval(element)) {\n                            $ifShowHtmlElementItem.show();\n                        } else {\n                            $ifShowHtmlElementItem.hide();\n                        }\n                        $ifShowHtmlElementItem = null;\n                    });\n                }\n                $elements = $htmlElements = $ifShowHtmlElements = element = null;\n            }\n        }\n    }\n};\n\n/*----------------------DIRECT GLOBALS ---------------------------------------------------------------------------------- */\n/**\n* Dump and die  \n* @param n number of parameters\n*\n* return void\n*-------------------------------------------------------- */\nwindow.__dd = function (arg1, arg2) {\n\n    if (window.appConfig && window.appConfig.debug) {\n\n        console.error(\"JS __dd --------------------------------------------------\");\n\n        var args = Array.prototype.slice.call(arguments);\n\n        for (var i = 0; i < args.length; ++i) {\n            console.log(args[i]);\n        }\n\n        throw new Error(\"-------------------------------------------------- JS __dd END\");\n    }\n}\n\n/**\n* Print data\n* @param n number of parameters\n*\n* return void\n*-------------------------------------------------------- */\nwindow.__pr = function () {\n\n    if (window.appConfig && window.appConfig.debug) {\n\n        console.info(\"JS __pr --------------------------------------------------\");\n\n        var args = Array.prototype.slice.call(arguments);\n\n        for (var i = 0; i < args.length; ++i) {\n            console.log(args[i]);\n        }\n\n        console.groupCollapsed(\"-------------------------------------------------- JS __pr END\");\n        console.trace();\n        console.groupEnd();\n        //console.info( \"-------------------------------------------------- JS __pr END\" );\n    }\n}\n\n/*\n* for handling cookies\n*/\nvar __Cookie = {\n\n    set: function (cname, cvalue, exdays) {\n        var d = new Date();\n        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n        var expires = \"expires=\" + d.toUTCString();\n        document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n    },\n    get: function (cname) {\n        var name = cname + \"=\";\n        var ca = document.cookie.split(';');\n        for (var i = 0; i < ca.length; i++) {\n            var c = ca[i];\n            while (c.charAt(0) == ' ') {\n                c = c.substring(1);\n            }\n            if (c.indexOf(name) == 0) {\n                return c.substring(name.length, c.length);\n            }\n        }\n        return \"\";\n    }\n}\n\n/**\n  * Ajax form submission based on form submit\n  *\n  *-------------------------------------------------------- */\n$('body').on('submit', 'form.lw-ajax-form', function (e) {\n    e.preventDefault();\n    var $this = $(e.target),\n        $thisForm = $(this);\n    return __DataRequest.__processSubmitForm($this, $thisForm);\n});\n\n/**\n * Ajax form submission based on form on change\n *\n *-------------------------------------------------------- */\n$('body').on('change', 'form.lw-ajax-form[lwSubmitOnChange]', function (e) {\n    e.preventDefault();\n    var $this = $(e.target),\n        $thisForm = $(this);\n    return __DataRequest.__processSubmitForm($this, $thisForm);\n});\n\n/**\n  * Ajax form submission based on click\n  *\n  *-------------------------------------------------------- */\n$('body').on('click', '.lw-ajax-form-submit-action', function (e) {\n    e.preventDefault();\n    var $this = $(this),\n        $thisForm = $this.parents('form');\n    return __DataRequest.__processSubmitForm($this, $thisForm);\n});\n\n/**\n* Ajax form submission based on click\n*\n*-------------------------------------------------------- */\n$('body').on('click', '.lw-ajax-link-action', function (e) {\n    e.preventDefault();\n    // var $this = $(this);\n    __DataRequest.process($(this));\n});\n\n/**\n* Ajax form submission based on click\n*\n*-------------------------------------------------------- */\n$('body').on('click', '.lw-ajax-link-action-via-confirm', function (e) {\n    e.preventDefault();\n    var $this = $(this);\n\n    if ($this.data('confirm')) {\n        showConfirmation($this.data('confirm'), function () {\n            return __DataRequest.process($this);\n        });\n    }\n});\n","'use strict';\n\n$.extend($.fn.dataTable.defaults, {\n    \"serverSide\": true,\n    \"iCookieDuration\": 60,\n    \"paging\": true,\n    \"processing\": true,\n    \"responsive\": true,\n    \"destroy\": true,\n    \"retrieve\": true,\n    \"lengthChange\": false,\n    \"language\": {\n        \"emptyTable\": \"There are no records to display.\"\n    },\n    searching: false,\n    \"ajax\": {\n        // any additional data to send\n        \"data\": function (additionalData) {\n            additionalData.page = (additionalData.start / additionalData.length) + 1;\n        }\n    }\n});\n\n/**\n    * Initilize DataTable\n    *\n    * @param tableID {string} - table id\n    * @param dtOptions {object} - datatable options\n    * @param dsOptions {object} - datastore options\n    *     \n    * @return datatable instance\n    *-------------------------------------------------------- */\n\nfunction dataTable(tableID, dtOptions, dsOptions, callbackFunction) {\n\t\n    if (callbackFunction) {\n        dtOptions.callbackFunction = callbackFunction;\n    }\n    \n    return $(tableID).DataTable(dtConfig(dtOptions, dsOptions));\n\n};\n\n/**\n    * DataTable Custom Configuration generation based on provided data\n    *\n    * @param object {options} - Object  \n    *                         url          (required)\n    *                         scope        (required)\n    *                         columnsData  (required)\n    *                         dtOptions    (optional)\n    *     \n    * @return array\n    *-------------------------------------------------------- */\n\nfunction dtConfig(options, dsOptions) {\n\n    var dataStoreInstance = this;\n\n    if (!dsOptions || !_.isObject(dsOptions)) {\n\n        dsOptions = {};\n\n    }\n\t\n    var dtOptionsCollection = {\n\t\t\n        \"ajax\": function (data, callback, settings) {\n\t\t\t\n            // for laravel 5 paginate\n            data.page = (data.start / data.length) + 1;\n\n            var drawID = data.draw ? data.draw : false,\n                optionsSendToFetch = {\n                    params: data,\n                    fresh: dsOptions.fresh ? dsOptions.fresh : false\n                };\n\n            if (_.has(dsOptions, 'persist')) {\n                optionsSendToFetch['persist'] = dsOptions.persist;\n            }\n\t\t\t\n            var urlID = options.url,\n                requestURL = '';\n            if (optionsSendToFetch.params) {\n\n                requestURL = urlID + '?' + $.param(optionsSendToFetch.params);\n\t\t\t\t\n                if (_.has(optionsSendToFetch.params, 'draw')) {\n\n                    delete optionsSendToFetch.params['draw'];\n\n                }\n\n                urlID = urlID + '?' + $.param(optionsSendToFetch.params);\n\n            }\n            // Send Ajax request for get datatable data\n            __DataRequest.get(requestURL, {}, function (response) {\n                response.draw = drawID;\n\n                // callback for datatable after data fetched\n                if (options.callbackFunction && _.isFunction(options.callbackFunction)) {\n                    options.callbackFunction.call(this, response);\n                }\n\n                callback(response);\n            });\n        },\n        \"drawCallback\": function (settings) {\n            var api = this.api(),\n                $thisDataTable = api.table();\n            if (_.has($thisDataTable.columns, 'adjust') && _.has($thisDataTable.responsive, 'recalc')) {\n                // responsive fix for datatable for cached datastore item \n                _.delay(function () {\n                    $thisDataTable.columns.adjust().responsive.recalc()\n                }, 180);\n            }\n        },\n        \"columns\": [],\n        /* \"createdRow\": function (nRow, data, dataIndex, cells) {\n            $('td', nRow).eq(5).append('highlight');\n        }, */\n        // added on 19 MAY 2016 - 0.4.0\n        \"responsive\": {\n            \"details\": {\n                \"renderer\": function (api, rowIdx, columns) {\n                    var data = _.map(columns, function (col, i) {\n                        return col.hidden ?\n                            '<li data-dtr-index=\"' + col.columnIndex + '\" data-dt-row=\"' + col.rowIndex + '\" data-dt-column=\"' + col.columnIndex + '\">' +\n                            '<span class=\"dtr-title\">' +\n                            col.title +\n                            '</span> ' +\n                            '<span class=\"dtr-data\">' +\n                            col.data +\n                            '</span>' +\n                            '</li>' :\n                            '';\n                    }).join('');\n                    return data;\n                    //return data ? $('<ul data-dtr-index=\"' + rowIdx + '\"/>').append(data) : false;\n                }\n            }\n        }\n    };\n\n    if (options.dtOptions) {\n\n        _.assign(dtOptionsCollection, options.dtOptions);\n\n    }\n\n    dtOptionsCollection.columns = _.map(options.columnsData, function (dtColumnData) {\n\n        return {\n\n            \"data\": dtColumnData.name ? dtColumnData.name : null,\n            \"orderable\": dtColumnData.orderable ? true : false,\n            \"render\": function (subject, data, obj, settings) {\n\n                if (!dtColumnData.name) {\n\n                    obj = subject;\n\n                } else {\n\n                    obj.dtSubject = dtColumnData.name;\n\n                }\n                // if template given\n                if (dtColumnData.template) {\n                    \n                    // compile data using underscore template\n                    return __Utils.template(dtColumnData.template, obj);\n\n                } else {\n\n                    return obj[dtColumnData.name];\n                }\n\n            }\n\n        };\n\n    });\n\n    return dtOptionsCollection;\n\n};\n\n\t/**\n    * Ajax Reload DataTable\n    *\n    * @param dataTableInstance {object} - datatable instance\n    *     \n    * @return datatable instance\n    *-------------------------------------------------------- */\n\n\tfunction reloadDT(dataTableInstance) {\n\n\t\tdataTableInstance.ajax.reload(null, false);\n\n\t\t__Utils.log(\"__DataStore:: DataTable reloaded\");\n\n\t};","'use strict';\n    /**\n     * Notification Functions : 11 JAN 2020\n     * LivelyWorks\n     *\n     *-------------------------------------------------------- */\n    var notyDefaultOptions = {\n        layout: 'topRight',\n        theme: 'bootstrap-v4',\n        progressBar: true,\n        timeout: 3000,\n        closeWith: ['click'],\n        animation: {\n            open: 'animated bounceInRight', // Animate.css class names\n            close: 'animated bounceOutRight'\n        } \n    };\n\n    /*\n    * Show Success Message\n    *************************************************/\n    function showSuccessMessage(message) {\n        new Noty($.extend({}, notyDefaultOptions, {\n            type: 'success',\n            text: message\n        })).show();\n    }\n\n    /*\n    * Show Error Message\n    *************************************************/\n    function showErrorMessage(message) {\n        new Noty($.extend({}, notyDefaultOptions, {\n            type: 'error',\n            text: message\n        })).show();\n    };\n\n    /*\n    * Show Info Message\n    *************************************************/\n    function showInfoMessage(message) {\n        new Noty($.extend({}, notyDefaultOptions, {\n            type: 'info',\n            text: message\n        })).show();\n    };\n\n    /*\n    * Show Warning Message\n    *************************************************/\n    function showWarnMessage(message) {\n        new Noty($.extend({}, notyDefaultOptions, {\n            type: 'warning',\n            text: message\n        })).show();\n    };\n\n    /*\n    * Show confirmation dialog\n    *************************************************/\n    function showConfirmation(containerId, yesCallback, options) {\n        var $messageItem = $(containerId),\n            confirmationContainer = '';\n\n            if($messageItem.length) {\n                confirmationContainer = $messageItem.html();\n            } else {\n                confirmationContainer = containerId;\n            }\n            if(!options) {\n               options = {};\n            }\n        var confirmationDialog = new Noty($.extend({}, {\n            layout: 'center',\n            theme: 'bootstrap-v4',\n            callbacks: {\n                beforeShow:function() {\n                    $('body').addClass('overflow-hidden');\n                },\n                onClose:function() {\n                    $('body').removeClass('overflow-hidden');\n                }\n            },\n            modal: true,\n            closeWith:['button'],\n            buttons: [\n                Noty.button('YES', 'btn btn-success btn-sm mr-2', function () {\n                    if(typeof yesCallback === 'function') {\n                        yesCallback();\n                        confirmationDialog.close();\n                    }\n                }),\n                Noty.button('NO', 'btn btn-danger btn-sm', function () {\n                    confirmationDialog.close();\n                })\n            ],\n            text: confirmationContainer,\n            animation: {\n                open: 'animated fadeInDown faster', // Animate.css class names\n                close: 'animated fadeOutUp faster'\n            }\n        }, options));\n        confirmationDialog.show();\n        return confirmationDialog;\n    }","'use strict';\n//defined pusher global variable\nvar pusher;\n\n/**\n * Pusher Notify\n *\n * @param string msg\n * @param object options\n *\n * @return void\n *---------------------------------------------------------------- */\nfunction configure(pusherAppKey, __pusherAppOptions) {\n\tif (!__pusherAppOptions || _.isUndefined(__pusherAppOptions)) {\n\t\t__pusherAppOptions = window.__pusherAppOptions;\n\t}\n\t//Pusher App options set location footer.blade.php and audio-video.blade.php file\n\tpusher = new Pusher(pusherAppKey, __pusherAppOptions);\n};\n\n/**\n * Pusher Subscribe\n *\n * @param string msg\n * @param object options\n *\n * @return void\n *---------------------------------------------------------------- */\nfunction subscribe(channelId, eventId, pusherAppKey, pseudoCallback, isFresh) {\n\n\tif (_.isUndefined(isFresh)) {\n\t\tisFresh = false;\n\t}\n\n\t//load pusher instance\n\tconfigure(pusherAppKey);\n\n\t//check push instance available or not\n\tif (!pusher) {\n\t\t//load pusher instance\n\t\tconfigure(pusherAppKey);\n\t}\n\n\t//subscribe pusher channel id\n\tvar channel = pusher.subscribe(channelId);\n\n\t//check is fresh record\n\tif (isFresh) {\n\t\tpusher.disconnect();\n\t\tchannel.unbind(eventId);\n\t\tpusher.connect();\n\t}\n\n\t//bind subscribe callback\n\tchannel.bind(eventId, function (data) {\n\t\tpseudoCallback(data);\n\t});\n};\n\n/**\n * Disconnect all\n * @return void\n *---------------------------------------------------------------- */\nfunction disconnect() {\n\t//check pusher instance exist then disconnect\n\tif (pusher) {\n\t\tpusher.disconnect();\n\t}\n}\n\n/**\n* Pusher Subscribe\n*\n* @param string msg\n* @param object options\n*\n* @return void\n*---------------------------------------------------------------- */\nfunction accountSubscribe(eventId, pusherAppKey, userUID, notifyCallback, isFresh) {\n\tif (_.isUndefined(isFresh)) {\n\t\tisFresh = false;\n\t}\n\tsubscribe('channel-' + userUID, eventId, pusherAppKey, notifyCallback, isFresh);\n}\n\n/**\n * Pusher Subscribe\n *\n * @param string msg\n * @param object options\n *\n * @return void\n *---------------------------------------------------------------- */\nfunction subscribeNotification(eventId, pusherAppKey, userUID, notifyCallback, isFresh) {\n\n\tif (_.isUndefined(isFresh)) {\n\t\tisFresh = false;\n\t}\n\n\taccountSubscribe(eventId, pusherAppKey, userUID, notifyCallback, isFresh);\n}\n\n/**\n* Pusher Notification Instance\n* LivelyWorks\n*\n*-------------------------------------------------------- */\nconfigure('');","'use strict';\n// rtc object\nvar rtc = {\n\tclient: null,\n\tjoined: false,\n\tpublished: false,\n\tlocalStream: null,\n\tremoteStreams: [],\n\tparams: {},\n},\n\n//defined pusher global varibale\nuserType = null;\n//add calling view\nfunction addView(id, show) {\n\tif (!$(\"#\" + id)[0]) {\n\t\t$(\"<div/>\", {\n\t\t\tid: \"remote_video_panel_\" + id,\n\t\t\tclass: \"video-view\",\n\t\t}).appendTo(\"#video\");\n\n\t\t$(\"<div/>\", {\n\t\t\tid: \"remote_video_\" + id,\n\t\t\tclass: \"video-placeholder remote-video\",\n\t\t}).appendTo(\"#remote_video_panel_\" + id);\n\n\t\t$(\"<div/>\", {\n\t\t\tid: \"remote_video_info_\" + id,\n\t\t\tclass: \"video-profile \" + (show ? \"\" : \"hide\"),\n\t\t}).appendTo(\"#remote_video_panel_\" + id);\n\n\t\t$(\"<div/>\", {\n\t\t\tid: \"video_autoplay_\" + id,\n\t\t\tclass: \"autoplay-fallback hide\",\n\t\t}).appendTo(\"#remote_video_panel_\" + id);\n\t}\n}\n//remove calling view\nfunction removeView(id) {\n\tif ($(\"#remote_video_panel_\" + id)[0]) {\n\t\t$(\"#remote_video_panel_\" + id).remove();\n\t}\n}\n\nvar __AudioVisualRequest = {\n    callFailedOrDisconnected : function() {\n\t\t$('body').removeClass('lw-audio-video-in-processing');\n\t\t$('body').removeClass('lw-audio-call-in-processing');\n\t\t$('body').removeClass('lw-video-call-in-processing');\n        __Utils.viewReload();\n    },\n\thandleCallEvents: function (rtc, userUid, userType) {\n\t\t// Occurs when the peer user leaves the channel; for example, the peer user calls Client.leave.\n\t\trtc.client.on(\"peer-leave\", function (evt) {\n\t\t\tvar id = evt.uid;\n\t\t\tif (id != rtc.params.uid) {\n\t\t\t\t//__dd('Remove')\n\t\t\t\t//remove audio/video calling view\n\t\t\t\tremoveView(id);\n\t\t\t}\n\t\t\t//close calling user modal after success leave chanel\n\t\t\tif (userType == 'publisher') {\n\t\t\t\t//when local stream is stop then remove class to body \n\t\t\t\t__AudioVisualRequest.callFailedOrDisconnected();\n\t\t\t\t//Call Connect Status\n\t\t\t\t__DataRequest.updateModels({\n\t\t\t\t\t'callerCallStatus': __callStatusStrings.disconnect, //update caller call status message\n\t\t\t\t\t'callerCloseDialogBtn': true, //show caller close dialog btn\n\t\t\t\t\t'callerDisConnectCallBtn': false, //hide caller accept call btn\n\t\t\t\t});\n\t\t\t} else if (userType == 'subscriber') {\n\t\t\t\t//when local stream is stop then remove class to body \n\t\t\t\t__AudioVisualRequest.callFailedOrDisconnected();\n\n\t\t\t\t//Receiver Call Connect Status\n\t\t\t\t__DataRequest.updateModels({\n\t\t\t\t\t'receiverCallStatus': __callStatusStrings.disconnect, //update receiver call status message\n\t\t\t\t\t'receiverAcceptCallBtn': false, //hide receiver accept call btn\n\t\t\t\t\t'receiverDisconnectCallBtn': false, //hide receiver disconnect call btn\n\t\t\t\t\t'receiverCloseDialogBtn': true //show receiver close dialog btn\n\t\t\t\t});\n\t\t\t}\n\t\t\t//when local stream play then add class to body \n\t\t\t__AudioVisualRequest.callFailedOrDisconnected();\n\t\t});\n\t\t// Occurs when the local stream is published.\n\t\trtc.client.on(\"stream-published\", function (evt) {\n\t\t\tif (userType == 'publisher') {\n\t\t\t\t//play ringtone\n\t\t\t\t$(\"#lwCallRingtone\")[0].play();\n\t\t\t\t//Call Connect Status\n\t\t\t\t__DataRequest.updateModels({\n\t\t\t\t\t'callerCallStatus': __callStatusStrings.ringing //update caller call status message\n\t\t\t\t});\n\t\t\t\t$(\"#lwCallerCallingStatus\").text(__callStatusStrings.ringing);\n\t\t\t} else if (userType == 'subscriber') {\n\t\t\t\t//Receiver Call Connect Status\n\t\t\t\t__DataRequest.updateModels({\n\t\t\t\t\t'receiverCallStatus': __callStatusStrings.connecting //update receiver call status message\n\t\t\t\t});\n\t\t\t}\n\t\t\t// __pr(\"stream-published\");\n\t\t\trtc.published = true\n\t\t})\n\t\t// Occurs when the remote stream is added.\n\t\trtc.client.on(\"stream-added\", function (evt) {\n\t\t\tvar remoteStream = evt.stream;\n\t\t\tvar id = remoteStream.getId();\n\t\t\tif (id !== rtc.params.uid) {\n\t\t\t\trtc.client.subscribe(remoteStream, function (err) {\n\t\t\t\t\t// __pr(\"stream subscribe failed\", err);\n\t\t\t\t\t/* handle the error */\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t\treturn;\n\t\t\t\t})\n\t\t\t}\n\t\t\t// __pr('stream-added remote-uid: ', id);\n\t\t});\n\t\t// Occurs when a user subscribes to a remote stream.\n\t\trtc.client.on(\"stream-subscribed\", function (evt) {\n\t\t\tvar remoteStream = evt.stream;\n\t\t\tvar id = remoteStream.getId();\n\t\t\trtc.remoteStreams.push(remoteStream);\n\t\t\taddView(id);\n\t\t\tremoteStream.play(\"remote_video_\" + id);\n\t\t\tif (userType == 'publisher') {\n\t\t\t\t//pause ringtone\n\t\t\t\t$(\"#lwCallRingtone\")[0].pause();\n\t\t\t\t//Call Connect Status\n\t\t\t\t__DataRequest.updateModels({\n\t\t\t\t\t'callerCallStatus': __callStatusStrings.connected //update caller call status message\n\t\t\t\t});\n\t\t\t} else if (userType == 'subscriber') {\n\t\t\t\t//pause ringtone\n\t\t\t\t$(\"#lwCallRingtone\")[0].pause();\n\t\t\t\t//Receiver Call Connect Status\n\t\t\t\t__DataRequest.updateModels({\n\t\t\t\t\t'receiverCallStatus': __callStatusStrings.connected //update receiver call status message\n\t\t\t\t});\n\t\t\t}\n\t\t\t// __pr('stream-subscribed remote-uid: ', id, userType);\n\t\t});\n\t\t// Occurs when the remote stream is removed; for example, a peer user calls Client.unpublish.\n\t\trtc.client.on(\"stream-removed\", function (evt) {\n\t\t\tvar remoteStream = evt.stream;\n\t\t\tvar id = remoteStream.getId();\n\t\t\t// Stop playing the remote stream.\n\t\t\tremoteStream.stop(\"remote_video_\" + id);\n\t\t\trtc.remoteStreams = rtc.remoteStreams.filter(function (stream) {\n\t\t\t\treturn stream.getId() !== id\n\t\t\t})\n\t\t\t// Remove the view of the remote stream. \n\t\t\tremoveView(id);\n\t\t\t// __pr(\"stream-removed remote-uid: \", id);\n\t\t});\n\t},\n\n\tjoinCall: function (agoraAppID, userUid, token, channel, callType, userType, errorCallback, successCallBack) {\n\t\t// Options for joining a channel\n\t\tvar option = {\n\t\t\tappID: agoraAppID,\n\t\t\tchannel: channel,\n\t\t\tuid: userUid,\n\t\t\ttoken: token\n\t\t};\n\n\t\t// Create a client\n\t\trtc.client = AgoraRTC.createClient({\n\t\t\tmode: \"rtc\",\n\t\t\tcodec: \"h264\"\n\t\t});\n\n\t\t// handle AgoraRTC client event\n\t\t__AudioVisualRequest.handleCallEvents(rtc, userUid, userType);\n\t\t// Initialize the client\n\t\trtc.client.init(option.appID, function () {\n\t\t\t// __pr(\"init success\");\n\t\t\t/**\n\t\t\t* Joins an AgoraRTC Channel\n\t\t\t* This method joins an AgoraRTC channel.\n\t\t\t* Parameters\n\t\t\t* tokenOrKey: string | null\n\t\t\t*    Low security requirements: Pass null as the parameter value.\n\t\t\t*    High security requirements: Pass the string of the Token or Channel Key as the parameter value. See Use Security Keys for details.\n\t\t\t*  channel: string\n\t\t\t*    A string that provides a unique channel name for the Agora session. The length must be within 64 bytes. Supported character scopes:\n\t\t\t*    26 lowercase English letters a-z\n\t\t\t*    26 uppercase English letters A-Z\n\t\t\t*    10 numbers 0-9\n\t\t\t*    Space\n\t\t\t*    \"!\", \"#\", \"$\", \"%\", \"&\", \"(\", \")\", \"+\", \"-\", \":\", \";\", \"<\", \"=\", \".\", \">\", \"?\", \"@\", \"[\", \"]\", \"^\", \"_\", \"{\", \"}\", \"|\", \"~\", \",\"\n\t\t\t*  uid: number | null\n\t\t\t*    The user ID, an integer. Ensure this ID is unique. If you set the uid to null, the server assigns one and returns it in the onSuccess callback.\n\t\t\t*   Note:\n\t\t\t*      All users in the same channel should have the same type (number or string) of uid.\n\t\t\t*      If you use a number as the user ID, it should be a 32-bit unsigned integer with a value ranging from 0 to (232-1).\n\t\t\t**/\n\t\t\trtc.client.join(option.token, option.channel, option.uid, function (uid) {\n\t\t\t\t//__pr(\"join channel: \" + option.channel + \" success, uid: \" + uid);\n\t\t\t\trtc.params.uid = uid;\n\t\t\t\t//enable video by default false\n\t\t\t\tvar enableVideo = false;\n\t\t\t\t//check call type is 2 (Video) then enable video\n\t\t\t\tif (callType == 2) {\n\t\t\t\t\tenableVideo = true;\n\t\t\t\t}\n\n\t\t\t\t// Create a local stream\n\t\t\t\trtc.localStream = AgoraRTC.createStream({\n\t\t\t\t\tstreamID: rtc.params.uid,\n\t\t\t\t\taudio: true,\n\t\t\t\t\tvideo: enableVideo,\n\t\t\t\t\tscreen: false\n\t\t\t\t});\n\n\t\t\t\t//get user media related handle errors\n\t\t\t\tnavigator.mediaDevices.getUserMedia({\n\t\t\t\t\taudio: true,\n\t\t\t\t\tvideo: enableVideo\n\t\t\t\t}).then(function (stream) {\n\t\t\t\t\t/* do stuff */ /* use the stream */\n\t\t\t\t})\n\t\t\t\t.catch(function (err) {\n\t\t\t\t\t/* handle the error */\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t\treturn;\n\t\t\t\t});\n\n\t\t\t\t// Initialize the local stream\n\t\t\t\trtc.localStream.init(function () {\n\t\t\t\t\t// __pr(\"init local stream success\");\n\t\t\t\t\t//when local stream play then add class to body \n\t\t\t\t\t$('body').addClass('lw-audio-video-in-processing');\n\t\t\t\t\tif (callType == 1) {\n\t\t\t\t\t\t$('body').addClass('lw-audio-call-in-processing');\n\t\t\t\t\t} else if (callType == 2) {\n\t\t\t\t\t\t$('body').addClass('lw-video-call-in-processing');\n\t\t\t\t\t}\n\t\t\t\t\t// play stream with html element id \"local_stream\"\n\t\t\t\t\trtc.localStream.play(\"local_stream\")\n\t\t\t\t\t// Publish the local stream\n\t\t\t\t\trtc.client.publish(rtc.localStream, function (err) {\n\t\t\t\t\t\t__Utils.error(\"publish failed\", err);\n                        __AudioVisualRequest.callFailedOrDisconnected();\n\t\t\t\t\t\t/* handle the error */\n\t\t\t\t\t\terrorCallback(err);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t});\n\t\t\t\t\t//success call back\n\t\t\t\t\tsuccessCallBack(true);\n\t\t\t\t}, function (err) {\n\t\t\t\t\t__Utils.error(\"init local stream failed \", err);\n                    __AudioVisualRequest.callFailedOrDisconnected();\n\t\t\t\t\t/* handle the error */\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t\treturn;\n\t\t\t\t});\n\t\t\t}, function (err) {\n\t\t\t\t__Utils.error(\"client join failed\", err);\n                __AudioVisualRequest.callFailedOrDisconnected();\n\t\t\t\t/* handle the error */\n\t\t\t\terrorCallback(err);\n\t\t\t\treturn;\n\t\t\t\t\n\t\t\t});\n\t\t}, function (err) {\n\t\t\t__Utils.error(err);\n\t\t\t/* handle the error */\n\t\t\terrorCallback(err);\n\t\t\treturn;\n\t\t});\n\t},\n\t\n\tdisconnectCall: function (userType, callerRejectUrl, receiverRejectUrl) {\n        //check remote stream exists or not\n\t\tif (_.isEmpty(rtc.remoteStreams)) {\n\t\t\tvar requestUrl = null;\n\t\t\t//check user type is publisher or subscriber\n\t\t\tif (userType == 'publisher') {\n\t\t\t\trequestUrl = callerRejectUrl;\n\t\t\t} else if (userType == 'subscriber') {\n\t\t\t\trequestUrl = receiverRejectUrl;\n\t\t\t}\n\n\t\t\t//check if request url is empty\n\t\t\tif (!_.isEmpty(requestUrl)) {\n\t\t\t\t//get ajax request\n\t\t\t\t__DataRequest.get(requestUrl, null, function (response) {\n\t\t\t\t\t//check reaction code is 1 and rtc client object is null\n\t\t\t\t\tif (response.reaction == 1 && !rtc.client) {\n\t\t\t\t\t\t//check user type is publisher or subscriber\n\t\t\t\t\t\tif (userType == 'publisher') {\n\t\t\t\t\t\t\t//hide dialog\n\t\t\t\t\t\t\t$(\"#lwAudioCallDialog\").modal('hide');\n\t\t\t\t\t\t\t//when local stream is stop then remove class to body \n\t\t\t\t\t\t\t__AudioVisualRequest.callFailedOrDisconnected();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else if (userType == 'subscriber') {\n\t\t\t\t\t\t\t//hide dialog\n\t\t\t\t\t\t\t$(\"#lwIncomingCallDialog\").modal('hide');\n\t\t\t\t\t\t\t//when local stream is stop then remove class to body \n\t\t\t\t\t\t\t__AudioVisualRequest.callFailedOrDisconnected();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\t\n\t\t//if rtc client object is null then apply action\n\t\tif (!rtc.client) {\n\t\t\t//check user type is publisher or subscriber\n\t\t\tif (userType == 'publisher') {\n\t\t\t\t//if caller disconnect call without create client then hide caller dialog \n\t\t\t\t$(\"#lwAudioCallDialog\").modal('hide');\n\t\t\t\t//when local stream is stop then remove class to body \n\t\t\t\t__AudioVisualRequest.callFailedOrDisconnected();\n\t\t\t} else if (userType == 'subscriber') {\n\t\t\t\t//if receiver disconnect call without create client then hide receiver dialog \n\t\t\t\t__DataRequest.updateModels({\n\t\t\t\t\t'callerCallStatus': __callStatusStrings.disconnect //update caller call status message\n\t\t\t\t});\n\t\t\t\t//when local stream is stop then remove class to body \n\t\t\t\t__AudioVisualRequest.callFailedOrDisconnected();\n\t\t\t}\n\t\t} else {\n\t\t\t// Leave the channel\n\t\t\trtc.client.leave(function () {\n\t\t\t\t//unpublish local stream\n\t\t\t\t__AudioVisualRequest.unPublishStream(rtc);\n\t\t\t\t// Stop playing the local stream\n\t\t\t\trtc.localStream.stop();\n\t\t\t\t// Close the local stream\n\t\t\t\trtc.localStream.close();\n\t\t\t\t// Stop playing the remote streams and remove the views\n\t\t\t\twhile (rtc.remoteStreams.length > 0) {\n\t\t\t\t\tvar stream = rtc.remoteStreams.shift();\n\t\t\t\t\tvar id = stream.getId();\n\t\t\t\t\tstream.stop();\n\t\t\t\t\tremoveView(id);\n\t\t\t\t}\n\t\t\t\trtc.localStream = null;\n\t\t\t\trtc.remoteStreams = [];\n\t\t\t\trtc.client = null;\n\t\t\t\trtc.published = false;\n\t\t\t\t\n\t\t\t\t//close incoming call modal after success leave chanel\n\t\t\t\t//check user type is publisher or subscriber\n\t\t\t\tif (userType == 'publisher') {\n\t\t\t\t\t//if caller disconnect call then hide caller call dialog \n\t\t\t\t\t$(\"#lwAudioCallDialog\").modal('hide');\n\t\t\t\t\t//when local stream is stop then remove class to body \n\t\t\t\t\t__AudioVisualRequest.callFailedOrDisconnected();\n\t\t\t\t\t//when local stream is stop then remove class to body \n\t\t\t\t} else if (userType == 'subscriber') {\n\t\t\t\t\t//if receiver disconnect call then hide receiver call dialog \n\t\t\t\t\t$(\"#lwIncomingCallDialog\").modal('hide');\n\t\t\t\t\t//when local stream is stop then remove class to body \n\t\t\t\t\t__AudioVisualRequest.callFailedOrDisconnected();\n\t\t\t\t}\n\t\t\t\t// __pr(\"client leaves channel success\");\n\t\t\t}, function (err) {\n\t\t\t\t// __pr(\"channel leave failed\");\n\t\t\t\t__Utils.error(err);\n\t\t\t\t/* handle the error */\n\t\t\t\terrorCallback(err);\n\t\t\t\treturn;\n\t\t\t});\n\t\t}\n\t},\n\n\t//unPublish stream when call disconnected\n\tunPublishStream: function(rtc) {\n\t\tvar oldState = rtc.published;\n\t\trtc.client.unpublish(rtc.localStream, function (err) {\n\t\t\trtc.published = oldState;\n\t\t\t// __pr(\"unpublish failed\");\n\t\t\t__Utils.error(err);\n\t\t});\n\t\trtc.published = false;\n\t}\n};","// Start of use strict\n\"use strict\"; \n// Create a object for messenger\nvar __Messenger = {\n    sendMessageUrl: null,\n    // Load Uploader instance\n    loadUploaderInstance: function() {\n        var pond = null,\n            uniqueId = Math.random().toString(36).substr(2, 9);\n        if (_.isEmpty(pond)) {\n            pond = FilePond.create({\n                name: 'filepond',\n                labelIdle: \"<i class='fas fa-paperclip'></i>\",\n                allowDrop: false,\n                allowImagePreview: false,\n                allowRevert: false,\n                server: {\n                    process: {\n                        url: __Messenger.sendMessageUrl,\n                        method: 'POST',\n                        headers: {\n                            'X-CSRF-TOKEN': appConfig.csrf_token\n                        },\n                        withCredentials: false,\n                        onload: function (response) {\n                            var responseData = JSON.parse(response);\n                            var requestData = responseData.data;\n                            var storedData = requestData.storedData;\n\n                            if (responseData.reaction == 1) {\n                                __Messenger.replaceMessage(storedData.type, storedData.message, storedData.unique_id, storedData.created_on);\n                            } else {\n                                __Messenger.removeMessage(storedData.type, storedData.unique_id);\n                                showErrorMessage(requestData.message);\n                            }\n                        },\n                        ondata: function (formData) {\n                            formData.append('type', 2);\n                            formData.append('unique_id', uniqueId);\n                            return formData;\n                        }\n                    }\n                },\n                onaddfilestart: function () {\n                    __Messenger.appendMessage(2, '', uniqueId);\n                    $('#lwMessengerFileUpload').hide();\n                    $('#lwUploadingLoader').show();\n                },\n                onprocessfile: function (error, file) {\n                    pond.removeFile(file.id);\n                    $('#lwMessengerFileUpload').show();\n                    $('#lwUploadingLoader').hide();\n                }\n            });\n            pond.appendTo(document.getElementById(\"lwMessengerFileUpload\"));\n        }\n    },\n\n    $emojiElement: null,\n    // Load emoji text box container\n    loadEmojiContent: function() {\n        __Messenger.$emojiElement = $(\"#lwChatMessage\").emojioneArea({\n            placeholder: \"type message...\",\n            events: {\n                keyup: function (editor, event) {\n                    if (event.keyCode == 13) { // On Enter\n                        __Messenger.sendMessage(1, {\n                            message: editor[0].innerText,\n                            type: 1,\n                        });\n                    }\n                }\n            }\n        });\n    },\n\n    // Open sticker bottom-sheet\n    openStickerBottomSheet: function() {\n        $(\".lw-messenger\").on(\"click\", \".lw-open-stickers-action, .lw-open .lw-overlay\", function () {\n            $('.lw-messenger-bottom-sheet').toggleClass(\"lw-open\");\n            __Messenger.getStickers();\n        });\n    },\n\n    // Show bottom-sheet fro stickers\n    getStickers: function() {\n        var $lwBottomSheetHeadingContainer = $('.lw-heading'),\n            $lwStickerImagesContainer = $(\"#lwStickerImagesContainer\");\n\n        $lwBottomSheetHeadingContainer.html(\"\");\n        $lwStickerImagesContainer.html(\"\");\n        $('#lwGifImagesContainer').html(\"\");\n\n        // Set Heading of bottom sheet\n        $lwBottomSheetHeadingContainer.append('<h5><i class=\"fas fa-sticky-note text-success\"></i> '+__Utils.getTranslation('sticker_name_label', 'Stickers')+'</h5>');\n    },\n\n    // Fetch Stickers from server\n    fetchStickers: function(responseData) {\n        // Get sticker response data from server\n        var stickers = responseData.data.stickers;\n        // check if stickers exists\n        if (!_.isEmpty(stickers)) {\n            _.forEach(stickers, function (sticker) {\n                // Create Image tag\n                stickerImageTag = \"<span class='lw-buy-sticker-container'><img height='100px' width='110px' src='\" + sticker.image_url + \"' id='\" + sticker.id + \"' class='lw-sticker-image' data-is-free='\" + sticker.is_free + \"' data-is-purchased='\" + sticker.is_purchased + \"'>\";\n\n                // check if sticker is free\n                if (sticker.is_free) {\n                    stickerImageTag += \"<span class='text-center'>Free</span>\";\n                } else if (!sticker.is_purchased) {\n                    stickerImageTag += \"<div id='lwBuyNowStickerBtn-\" + sticker.id + \"' class='text-center'><span>\" + sticker.formatted_price + \"</span><br><button type='button' class='btn btn-secondary btn-sm' onclick='__Messenger.buySticker(\" + sticker.id + \")'>Buy Now</button></span></div>\";\n                } else if (sticker.is_purchased) {\n                    stickerImageTag += \"<span class='text-center'>Purchased</span>\";\n                }\n\n                $('#lwStickerImagesContainer').append(stickerImageTag);\n            });\n        } else {\n            $('#lwStickerImagesContainer').append(\"<?= __tr('No result found.') ?>\");\n        }\n        // Send selected sticker\n        $('.lw-sticker-image').on('click', function () {\n            if ($(this).data('is-free') || $(this).data('is-purchased')) {\n                __Messenger.sendMessage(12, {\n                    message: this.currentSrc,\n                    type: 12,\n                    item_id: this.id\n                });\n                $('.lw-messenger-bottom-sheet').toggleClass(\"lw-open\");\n            } else {\n                __Messenger.buySticker(this.id);\n            }\n        });\n    },\n\n    // Buy sticker\n    buySticker: function (stickerId) {\n        showConfirmation($('#lwBuyStickerText').data('message'), function () {\n            __DataRequest.post(__Messenger.buyStickerUrl, {\n                sticker_id: stickerId\n            }, function (responseData) {\n                if (responseData.reaction == 1) {\n                    $(\"#lwTotalCreditWalletAmt\").html(responseData.data.availableCredits)\n                    $('#lwBuyNowStickerBtn-' + stickerId).replaceWith(\"<span class='text-center'>Purchased</span>\");\n                }                \n            });\n        }, {\n            id: 'lwBuyStickerAlert'\n        });\n    },\n\n    // Open gif bottom-sheet\n    openGifBottomSheet: function() {\n        $(\".lw-messenger\").on(\"click\", \".lw-open-gif-action, .lw-open .lw-overlay\", function () {\n            $('.lw-messenger-bottom-sheet').toggleClass(\"lw-open\");\n            __Messenger.getGifImagesContent();\n        });\n    },\n\n    // Get gif images\n    getGifImagesContent: function() {\n        var $lwBottomSheetHeadingContainer = $('.lw-heading');\n        $lwBottomSheetHeadingContainer.html(\"\");\n        // Set Heading of bottom sheet\n        $lwBottomSheetHeadingContainer.append('<h5><i class=\"fa fa-images text-success\"></i> Send Gif</h5><div class=\"input-group lw-gif-search-input\"><input type=\"text\" class=\"form-control\" name=\"search\" id=\"lwSearchInput\" value=\"\" placeholder=\"Search GIF\"><div class=\"input-group-append\"><button type=\"button\" class=\"btn btn-secondary\" onclick=\"__Messenger.searchGifImages()\"><i class=\"fas fa-search\"></i></button></div></div>');\n        __Messenger.fetchGifImages();\n    },\n\n    // Search for images\n    searchGifImages: function() {\n        var searchValue = $('#lwSearchInput').val();\n        __Messenger.fetchGifImages({ searchValue: searchValue });\n    },\n\n    // Fetch Gif Images\n    fetchGifImages: function(queryOptions) {\n        $(\"#lwStickerImagesContainer\").html(\"\");\n        $lwGifImagesContainer = $('#lwGifImagesContainer');\n        $lwGifImagesContainer.html('<div class=\"lw-messenger-image-loading\"></div>');\n        var queryURL = '';\n        params = {\n            limit: 50,\n            api_key: __Messenger.giphyKey,\n            fmt: \"json\"\n        };\n\n        // check if query options exists\n        if (!_.isUndefined(queryOptions)) {\n            queryURL = \"https://api.giphy.com/v1/gifs/search?\";\n            params.q = queryOptions.searchValue;\n        } else {\n            queryURL = \"https://api.giphy.com/v1/gifs/trending?\";\n        }\n        // Get data from gify server\n        __DataRequest.get(queryURL + $.param(params), {}, function (response) {\n            var gifImages = response.data;\n            $lwGifImagesContainer.html('');\n            if (!_.isEmpty(gifImages)) {\n                _.forEach(gifImages, function (gif) {\n                    imageTag = $(\"<img>\");\n                    imageTag.attr({\n                        height: \"100px\",\n                        width: \"100px\",\n                        src: gif.images.preview_gif.url,\n                        class: 'lw-gif-image lw-lazy-img'\n                    });\n                   $lwGifImagesContainer.append(imageTag);\n                });\n            } else {\n               $lwGifImagesContainer.append(__Utils.getTranslation('gif_no_result', 'Result Not Found'));\n            }\n            // after click on gif image perform some action\n            $('.lw-gif-image').on('click', function () {\n                var gifImage = $(\"<img>\");\n                gifImage.attr({\n                    height: \"100px\",\n                    width: \"100px\",\n                    src: this.currentSrc\n                });\n\n                __Messenger.sendMessage(12, {\n                    message: this.currentSrc,\n                    type: 8\n                });\n                $('.lw-messenger-bottom-sheet').toggleClass(\"lw-open\");\n            });\n        }, { csrf: false });\n    },\n\n    // Accept message request\n    acceptMessageRequest: function() {\n        $('#lwSendMessageForm').show();\n        $('#lwAcceptChatRequestBtn').hide();\n        $('#lwDeclineChatRequestBtn').hide();\n        __Messenger.hideShowDropdownButtons(true);\n    },\n\n    // Decline Message Request\n    declineMessageRequest: function() {\n        $('#lwDeclineChatRequestBtn').hide();\n        __Messenger.hideShowDropdownButtons(false);\n    },\n\n    // Prepare send button instance\n    createSendButtonInstance: function() {\n        $('#lwSendMessageButton').on('click', function () {\n            __Messenger.sendMessageViaForm();\n        });\n    },\n\n    // send message via form\n    sendMessageViaForm: function() {\n        var message = '',\n            messageFormData = $('#lwSendMessageForm').serializeArray();\n        _.forEach(messageFormData, function (item, index) {\n            if (item.name == 'message') {\n                message = item.value;\n            }\n        });\n        __Messenger.sendMessage(1, {\n            message: message,\n            type: 1,\n        });\n    },\n\n    // Send message\n    sendMessage: function(type, formData) {\n        var uniqueId = Math.random().toString(36).substr(2, 9),\n            message = formData.message;\n        if (!_.isEmpty(message)) {\n            __Messenger.appendMessage(type, message, uniqueId);\n        } else {\n            showErrorMessage(__Utils.getTranslation('message_is_required', 'Message is required'));\n            __Utils.throwError('Message is required');\n        }\n        formData.unique_id = uniqueId;\n        __DataRequest.post(__Messenger.sendMessageUrl, formData, function (responseData) {\n            var requestData = responseData.data,\n                storedData = requestData.storedData;\n            if (responseData.reaction == 1) {\n                __Messenger.replaceMessage(storedData.type, storedData.message, storedData.unique_id, storedData.created_on);\n            } else {\n                __Messenger.removeMessage(storedData.type, storedData.unique_id);\n            }\n        });\n    },\n\n    // Append message to message board\n    appendMessage: function (type, message, uniqueId) {\n        var $messengerChatWindow = $('.lw-messenger-chat-window'),\n            appendText = '';\n\n        if (type == 1) {\n            appendText = '<div class=\"lw-messenger-chat-message lw-messenger-chat-sender row col-md-12\" id=\"' + uniqueId + '\"><p class=\"lw-messenger-chat-item\">' + message + '<span class=\"lw-messenger-chat-meta\">Now</span></p><img src=\"' + __Messenger.loggedInUserProfilePicture +'\" class=\"lw-profile-picture lw-online\" alt=\"\"></div>';\n        } else {\n            appendText = '<div class=\"lw-messenger-chat-message lw-messenger-chat-sender row col-md-12\" id=\"' + uniqueId + '\"><p class=\"lw-messenger-chat-item\"><p class=\"lw-messenger-chat-item col-md-8\"><span class=\"lw-messenger-image-loading\"> loading ...please wait</span><span class=\"lw-messenger-chat-meta\">10 February 2020 at 4:00 pm</span></p><span class=\"lw-messenger-chat-meta\">Now</span></p><img src=\"' + __Messenger.loggedInUserProfilePicture +'\" class=\"lw-profile-picture lw-online\" alt=\"\"></div>';\n        }\n\n        $messengerChatWindow.append(appendText);\n        __Messenger.$emojiElement[0].emojioneArea.setText('');\n\n        $(\".lw-messenger-chat-window\").scrollTop(1000000);\n    },\n\n    // replace message with existing message\n    replaceMessage: function (type, message, uniqueId, createdOn) {\n        if (type != 1) {\n            var replaceContainer = '<div class=\"lw-messenger-chat-message lw-messenger-chat-sender row col-md-12\"><p class=\"lw-messenger-chat-item\"><img src=\"' + message + '\" alt=\"\"><span class=\"lw-messenger-chat-meta\">' + createdOn + '</span></p><img src=\"' + __Messenger.loggedInUserProfilePicture +'\" class=\"lw-profile-picture lw-online\" alt=\"\"></div>';\n\n            $('#' + uniqueId).replaceWith(replaceContainer);\n        }\n    },\n\n    // Remove message from message board\n    removeMessage: function (type, uniqueId) {\n        if (type != 1) {\n            $('#' + uniqueId).remove();\n        }\n    },\n\n    // Append received message\n    appendReceivedMessage: function (type, message, createdOn) {\n        var $messengerChatWindow = $('.lw-messenger-chat-window'),\n            appendText = '';\n        if (type == 1) {\n            appendText = '<div class=\"lw-messenger-chat-message align-self-center row col-md-12 lw-messenger-chat-recipient\"><img src=\"' + __Messenger.recipientUserProfilePicture +'\" class=\"lw-profile-picture lw-online\" alt=\"\"><p class=\"lw-messenger-chat-item col-md-8\">' + message +'<span class=\"lw-messenger-chat-meta\">'+ createdOn +'</span></p></div>';\n        } else {\n            appendText = '<div class=\"lw-messenger-chat-message align-self-center row col-md-12 lw-messenger-chat-recipient\"><img src=\"' + __Messenger.recipientUserProfilePicture + '\" class= \"lw-profile-picture lw-online\" alt=\"\"><p class=\"lw-messenger-chat-item col-md-8\"><img src=\"' + message +'\" alt=\"\"><span class=\"lw-messenger-chat-meta\">'+ createdOn +'</span></p></div>';\n        }\n        $messengerChatWindow.append(appendText);\n        $(\".lw-messenger-chat-window\").scrollTop(1000000);\n    },\n\n    // Hide / Show sidebar on mobile view\n    toggleSidebarOnMobileView: function() {\n        if ($('.lw-messenger').hasClass('lw-messenger-sidebar-opened')) {\n            $('.lw-messenger').removeClass('lw-messenger-sidebar-opened');\n        } else {\n            $('.lw-messenger').addClass('lw-messenger-sidebar-opened');\n        }        \n    },\n\n    // Click on toggle button\n    hideShowChatSidebar: function() {\n        $('#lwChatSidebarToggle').on('click', function() {\n            __Messenger.toggleSidebarOnMobileView();\n        });        \n    },\n\n    // Show hide disable enable buttons\n    hideShowDropdownButtons: function(showButtons) {\n        if (showButtons) {\n            // For delete all chat button\n            $('#lwDeleteAllChatActiveButton').show();\n            $('#lwDeleteAllChatDisableButton').hide();\n\n            // Audio call button \n            $('#lwAudioCallBtn').show();\n            $('#lwAudioCallDisableBtn').hide();\n\n            // video Call button\n            $('#lwVideoCallBtn').show();\n            $('#lwVideoCallDisableBtn').hide();\n        } else {\n            // For delete all chat button\n            $('#lwDeleteAllChatActiveButton').hide();\n            $('#lwDeleteAllChatDisableButton').show();\n\n            // Audio call button \n            $('#lwAudioCallBtn').hide();\n            $('#lwAudioCallDisableBtn').show();\n\n            // video Call button\n            $('#lwVideoCallBtn').hide();\n            $('#lwVideoCallDisableBtn').show();\n        }\n    },\n    showMessageRequestNotification:  function() {\n    \t//show dialog\n    \t$(\".lw-messenger #lwAudioCallDisableBtn, .lw-messenger #lwVideoCallDisableBtn\").on(\"click\", function() {\n    \t\t$('.lw-messenger #lwUserNotAcceptedMsgRequest').modal({\n\t\t\t  \tkeyboard: false\n\t\t\t});\n    \t});\n\n    \t//hide dialog\n    \t$(\".lw-messenger .lw-not-accepted-dialog-close-btn, .lw-messenger .lw-not-accepted-dialog-close-btn\").on(\"click\", function() {\n    \t\t$('.lw-messenger #lwUserNotAcceptedMsgRequest').modal('hide');\n    \t});\n    }\n};\n\nfunction handleMessageActionContainer(messageRequestStatus, loadUploaderInstance) {\n    if (messageRequestStatus == 'MESSAGE_REQUEST_ACCEPTED'\n        || messageRequestStatus == 'SEND_NEW_MESSAGE') {\n        if (loadUploaderInstance) {\n            __Messenger.loadUploaderInstance();\n        }\n        __Messenger.hideShowDropdownButtons(true);\n        $('#lwSendMessageForm').show();\n        $('#lwDeclineMessage').hide();\n    } else if (messageRequestStatus == 'MESSAGE_REQUEST_RECEIVED') {\n        $('#lwSendMessageForm').hide();\n        $('#lwAcceptChatRequestBtn').show();\n        $('#lwDeclineChatRequestBtn').show();\n        __Messenger.hideShowDropdownButtons(false);\n    } else if (messageRequestStatus == 'MESSAGE_REQUEST_DECLINE') {\n        __Messenger.hideShowDropdownButtons(false);\n        $('#lwAcceptChatRequestBtn').show();\n    } else if (messageRequestStatus == 'MESSAGE_REQUEST_DECLINE_BY_USER') {\n        $('#lwSendMessageForm').hide();\n        $('#lwDeclineMessage').show();\n    } else if (messageRequestStatus == 'MESSAGE_REQUEST_SENT') {\n        if (loadUploaderInstance) {\n            __Messenger.loadUploaderInstance();\n        }\n        __Messenger.hideShowDropdownButtons(false);\n        $('#lwSendMessageForm').show();\n        $('#lwDeclineMessage').hide();\n    }\n}\n\nvar currentSelectedUserId = null,\n    currentSelectedUserUid = null;\n// After getting response from selected user\nfunction userChatResponse(responseData) {\n    $(\".lw-messenger\").unbind();\n    $('#lwChatSidebarToggle').unbind();\n    // $('#lwChatSidebarToggle').unbind();\n    if (responseData.reaction == 1) {\n        currentSelectedUserId = responseData.data.userData.user_id;\n        currentSelectedUserUid = responseData.data.userData.user_uid;\n        __Messenger.sendMessageUrl = __Utils.apiURL(__Messenger.sendMessageRawUrl, { userId: currentSelectedUserId});\n        _.defer(function () {\n            $(\".lw-messenger-chat-window\").scrollTop(1000000);\n            var messageRequestStatus = responseData.data.userData.messageRequestStatus;            \n            handleMessageActionContainer(messageRequestStatus, true);\n            __Messenger.hideShowChatSidebar();\n            __Messenger.loadEmojiContent();\n            __Messenger.openStickerBottomSheet();\n            __Messenger.openGifBottomSheet();\n            __Messenger.createSendButtonInstance();\n            _.delay(function () {\n                __Messenger.hideShowDropdownButtons(responseData.data.userData.enableAudioVideoLinks);\n            }, 100);\n            __Messenger.showMessageRequestNotification();\n        });\n    }\n}","(function($) {\n  \"use strict\"; // Start of use strict\n\n  __globals.translate_strings['uploader_default_text'] = \"<span class='filepond--label-action'><?= __tr('Drag & Drop Files or Browse') ?></span>\";\n\n  // Toggle the side navigation\n  $(\"#sidebarToggle, #sidebarToggleTop\").on('click tap', function(e) {\n    $(\"body\").toggleClass(\"sidebar-toggled\");\n    $(\".sidebar\").toggleClass(\"toggled\");\n    if ($(\".sidebar\").hasClass(\"toggled\")) {\n      $('.sidebar .collapse').collapse('hide');\n    };\n  });\n\n  // Close any open menu accordions when window is resized below 768px\n  $(window).resize(function() {\n    if ($(window).width() < 768) {\n      $('.sidebar .collapse').collapse('hide');\n    };\n  });\n\n  if ($(window).width() < 768) {\n        $(\"body\").toggleClass(\"sidebar-toggled\");\n        $(\".sidebar\").toggleClass(\"toggled\");\n    };\n\n  // Prevent the content wrapper from scrolling when the fixed side navigation hovered over\n  $('body.fixed-nav .sidebar').on('mousewheel DOMMouseScroll wheel', function(e) {\n    if ($(window).width() > 768) {\n      var e0 = e.originalEvent,\n        delta = e0.wheelDelta || -e0.detail;\n      this.scrollTop += (delta < 0 ? 1 : -1) * 30;\n      e.preventDefault();\n    }\n  });\n\n  // Scroll to top button appear\n  $(document).on('scroll', function() {\n    var scrollDistance = $(this).scrollTop();\n    if (scrollDistance > 100) {\n      $('.scroll-to-top').fadeIn();\n    } else {\n      $('.scroll-to-top').fadeOut();\n    }\n  });\n\n  // Smooth scrolling using jQuery easing\n  $(document).on('click', 'a.scroll-to-top', function(e) {\n    var $anchor = $(this);\n    $('html, body').stop().animate({\n      scrollTop: ($($anchor.attr('href')).offset().top)\n    }, 1000, 'easeInOutExpo');\n    e.preventDefault();\n  });\n\n})(jQuery); // End of use strict\n\n // Use for filepond file uploader\n    $(function () {\n        FilePond.registerPlugin(\n                    FilePondPluginImagePreview,\n                    FilePondPluginFilePoster, \n                    FilePondPluginFileValidateType\n                );\n        $('.lw-file-uploader').each(function (index, uploader) {\n            var actionUrl = $(this).data('action'),\n                responseCallback = eval($(this).data('callback')),\n                defaultImage = $(this).data('default-image-url'),\n                removeMediaAfterUpload = $(this).data('remove-media'),\n                removeAllMediaAfterUpload = $(this).data('remove-all-media'),\n                allowedMediaExtension = $(this).data('allowed-media'),\n                filePondAdditionalOptions = {\n                    maxParallelUploads: 10,\n                    imagePreviewMaxHeight : 175,\n                    labelIdle : $(this).data('label-idle') ? $(this).data('label-idle') : __Utils.getTranslation('uploader_default_text'),\n                    acceptedFileTypes: allowedMediaExtension,\n                    fileValidateTypeDetectType: function (source, type) {\n                        return new Promise(function (resolve, reject) {\n                            if (allowedMediaExtension) {\n                                if (allowedMediaExtension.indexOf(type) < 0) {\n                                    reject();\n                                }\n                            }\n                            resolve(type);\n                        })\n                    },\n                    allowRevert: false,\n                    server: {\n                        process: {\n                            url: actionUrl,\n                            method: 'POST',\n                            headers: {\n                                'X-CSRF-TOKEN': appConfig.csrf_token\n                            },\n                            withCredentials: false,\n                            onload: function (response) {\n                                var requestData = JSON.parse(response);\n                                // Show message when upload complete\n                                switch (requestData.reaction) {\n                                    case 1:\n                                        $('.lw-uploaded-file').val(requestData.data.fileName);\n                                        showSuccessMessage(requestData.data.message);\n                                        break;\n                                    case 14:\n                                        showWarnMessage(requestData.data.message);\n                                        break;\n                                    default:\n                                        showErrorMessage(requestData.data.message);\n                                        break;\n                                }\n\n                                if (typeof responseCallback === 'function') {\n                                    responseCallback(requestData);\n                                }\n                            },\n                        }\n                    },\n                    onprocessfile: function (error, file) {\n                        if (removeMediaAfterUpload) {\n                            pond.removeFile(file.id);                           \n                        }\n                        if (removeAllMediaAfterUpload) {\n                            pond.removeFiles();\n                        }\n                    }\n                };\n            \n            if (typeof defaultImage != 'undefined' && !_.isEmpty(defaultImage)) {\n                filePondAdditionalOptions = $.extend({}, filePondAdditionalOptions, {\n                    files: [\n                        {\n                            // set type to local to indicate an already uploaded file\n                            options: {\n                                type: 'local',\n                                file: {\n                                    name: '',\n                                    size: uploader.size,\n                                    type: 'image/jpg'\n                                },\n                                // Pass Default Image Url\n                                metadata: {\n                                    poster: defaultImage\n                                }\n                            }\n                        }\n                    ]\n                });\n            }\n\n            var pond = FilePond.create(this, filePondAdditionalOptions);            \n        });\n\t});\n\n    var photoSwipeGallery = function (items, index) {\n\n        //default index\n        var index = parseInt(index);\n\n        // default options\n        var options = {\n            index: index,\n            history: false,\n            focus: false,\n            closeEl: true,\n            captionEl: true,\n            fullscreenEl: true,\n            zoomEl: true,\n            shareEl: false,\n            counterEl: true,\n            arrowEl: true,\n            preloaderEl: true,\n            tapToToggleControls: false,\n            showAnimationDuration: 0,\n            hideAnimationDuration: 0\n        };\n\n        var gallery = new PhotoSwipe(document.querySelectorAll('.pswp')[0], PhotoSwipeUI_Default, items, options);\n        gallery.init();\n    }\n\t\n\t//for handling photoswipe gallery\n\t$(function () {\n\n\t\t$('.lw-datatable-photoswipe-gallery').on('click', function (event) {\n\t\t\t\n\t\t\tvar items;\n\t\t\tvar index = 0;\n\n\t\t\tif ($(event.target).hasClass('lw-photoswipe-gallery-img')) {\n\t\t\t\t// for fetching  all imgs url\n\t\t\t\titems = [{\n\t\t\t\t\t'src': $(event.target).attr('src'),\n\t\t\t\t\t'w': 900,\n\t\t\t\t\t'h': 900\n\t\t\t\t}];\n\n\t\t\t\tphotoSwipeGallery(items, index);\n\t\t\t}\n\t\t});\n\n\t\t$('.lw-photoswipe-gallery-img').on('click', function (event) {\n\n\t\t\tvar siblings = $(this).siblings('.lw-photoswipe-gallery-img').addBack();\n\t\t\tvar items;\n\t\t\tvar index = 0;\n\n\t\t\tif (siblings.length > 0) {\n\t\t\t\titems = siblings.map(function(index, elem) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'src': $(elem).attr('src'),\n\t\t\t\t\t\t'w': 900,\n\t\t\t\t\t\t'h': 900\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//if index is set\n\t\t\t\tif ($(event.target).data('img-index')) {\n\t\t\t\t\tindex = $(event.target).data('img-index');\n\t\t\t\t}\n\n\t\t\t\t// if items not empty\n\t\t\t\tif (items.length > 0) {\n\t\t\t\t\tphotoSwipeGallery(items, index);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\titems = [{\n\t\t\t\t\t'src': $(event.target).attr('src'),\n\t\t\t\t\t'w': 900,\n\t\t\t\t\t'h': 900\n\t\t\t\t}];\n\t\t\t\t// if items not empty\n\t\t\t\tif (items.length > 0) {\n\t\t\t\t\tphotoSwipeGallery(items, index);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n    var applyLazyImages = function() {\n        $(\".lw-lazy-img\").Lazy({\n\t\t\t// effect: \"fadeIn\",\n\t\t\t// effectTime: 200,\n\t\t\t// threshold: 0,\n            beforeLoad: function($element) {\n                // called before an elements gets handled\n                // $element.addClass('lw-lazy-img-loading');\n            },\n            afterLoad: function($element) {\n                // called after an element was successfully handled\n               $element.addClass('lw-lazy-img-loaded');\n            //    $element.removeClass('lw-lazy-img-loading');\n            },\n            onError: function($element) {\n                $element.addClass('lw-lazy-img-error');\n                // $element.removeClass('lw-lazy-img-loading');\n                console.log('error loading ' + $element.data('src'));\n            }\n\t\t});\n    }\n\n\t$(function() {\n\t\tapplyLazyImages();\n\t});"]}